## API Report File for "@yuants/data-product"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ICache } from '@yuants/cache';
import { IServiceOptions } from '@yuants/protocol';
import { Observable } from 'rxjs';
import { Terminal } from '@yuants/protocol';

// @public
export const createProductCache: (terminal: Terminal, options?: IProductCacheOptions) => ICache<IProduct>;

// @public (undocumented)
export const getMargin: (product: IProduct, openPrice: number, volume: number, variant: string, currency: string, quote: (product_id: string) => {
    ask: number;
    bid: number;
} | undefined) => number;

// @public (undocumented)
export const getProfit: (product: IProduct, openPrice: number, closePrice: number, volume: number, variant: string, currency: string, quotes: (product_id: string) => {
    ask: number;
    bid: number;
} | undefined) => number;

// @public
export interface IProduct {
    allow_long: boolean;
    allow_short: boolean;
    base_currency: string;
    datasource_id: string;
    margin_rate: number;
    market_id?: string;
    max_position: number;
    max_volume: number;
    name: string;
    no_interest_rate?: boolean;
    price_step: number;
    product_id: string;
    quote_currency: string;
    value_based_cost: number;
    value_scale: number;
    value_scale_unit: string;
    volume_based_cost: number;
    volume_step: number;
}

// @public
export interface IProductCacheOptions {
    expire?: number;
}

// @public
export interface IQueryProductsRequest {
    market_id?: string;
    product_id_pattern?: string;
}

// @public
export interface IQueryProductsResponse {
    products: IProduct[];
}

// @public
export interface IQueryProductsService {
    mapProductIdToProduct$: Observable<Map<string, IProduct>>;
    products$: Observable<IProduct[]>;
}

// @public
export function provideQueryProductsService(terminal: Terminal, datasource_id: string, queryProduct: (req: IQueryProductsRequest) => Promise<IProduct[]>, options?: {
    serviceOptions?: IServiceOptions;
    auto_refresh_interval?: number;
}): IQueryProductsService;

// (No @packageDocumentation comment for this package)

```
