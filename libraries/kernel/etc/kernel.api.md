## API Report File for "@yuants/kernel"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { IAccountInfo } from '@yuants/protocol';
import { IOrder } from '@yuants/protocol';
import { IPeriod } from '@yuants/protocol';
import { IPosition } from '@yuants/protocol';
import { IProduct } from '@yuants/protocol';
import { JSONSchema7 } from 'json-schema';
import { Observable } from 'rxjs';
import { PositionVariant } from '@yuants/protocol';
import { Terminal } from '@yuants/protocol';

// @public (undocumented)
export class AccountPerformanceMetricsUnit extends BasicUnit {
    constructor(kernel: Kernel, accountPerformanceUnit: AccountPerformanceUnit);
    // (undocumented)
    accountPerformanceUnit: AccountPerformanceUnit;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
}

// @public
export class AccountPerformanceUnit extends BasicUnit {
    constructor(kernel: Kernel, accountUnit: AccountSimulatorUnit);
    // (undocumented)
    accountUnit: AccountSimulatorUnit;
    // (undocumented)
    kernel: Kernel;
    static makeInitAccountPerformance: (account_id: string) => IAccountPerformance;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    performance: IAccountPerformance;
    static reduceAccountPerformance: (acc: IAccountPerformance, cur: IAccountInfo) => IAccountPerformance;
}

// @public
export const AccountReplayScene: (terminal: Terminal, account_id: string, currency: string, leverage: number, start_timestamp: number, end_timestamp: number, period_in_sec: number, datasource_id?: string) => {
    kernel: Kernel;
    accountInfoUnit: AccountSimulatorUnit;
    accountPerformanceUnit: AccountPerformanceUnit;
};

// @public
export class AccountSimulatorUnit extends BasicUnit {
    constructor(kernel: Kernel, productDataUnit: ProductDataUnit, quoteDataUnit: QuoteDataUnit, historyOrderUnit: HistoryOrderUnit, accountInfo: IAccountInfo);
    // (undocumented)
    accountInfo: IAccountInfo;
    // (undocumented)
    getPosition(position_id: string, product_id: string, variant: PositionVariant): IPosition;
    // (undocumented)
    historyOrderUnit: HistoryOrderUnit;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onEvent(): void;
    // (undocumented)
    onInit(): void | Promise<void>;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    quoteDataUnit: QuoteDataUnit;
}

// @public
export const ActivePortfolioManagementScene: (currency: string, terminal: Terminal, shellConfigs: IShellConf[], scriptResolver: {
    readFile: (path: string) => Promise<string>;
}, leverage?: number) => {
    runScene: () => void;
    batchResult$: Observable<IBatchShellResultItem | undefined>;
    activePortfolioManagementResult$: Observable<    {
    kernel: Kernel;
    benchmarkAccountPerformanceUnit: AccountPerformanceUnit;
    benchmarkAccountFrameUnit: AccountFrameUnit;
    activePortfolioAccountPerformanceUnit: AccountPerformanceUnit;
    activePortfolioAccountFrameUnit: AccountFrameUnit;
    activePortfolioOptimizeManagementUnit: ActivePortfolioOptimizeSimulatorUnit;
    mapAccountIdToActivePortfolioParamUnit: Record<string, ActivePortfolioParamUnit>;
    }>;
};

// @public
export class BasicUnit implements IKernelUnit {
    constructor(kernel: Kernel);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    onIdle(): void | Promise<void>;
    // (undocumented)
    onInit(): void | Promise<void>;
}

// @public
export class CounterpartyOrderMappingUnit extends BasicUnit {
    constructor(kernel: Kernel, sourceOrderMatchingUnit: OrderMatchingUnit, targetOrderMatchingUnit: OrderMatchingUnit);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onInit(): void | Promise<void>;
    // (undocumented)
    sourceOrderMatchingUnit: OrderMatchingUnit;
    // (undocumented)
    targetOrderMatchingUnit: OrderMatchingUnit;
}

// @public
export const createEmptyAccountInfo: (account_id: string, currency: string, leverage?: number, initial_balance?: number) => IAccountInfo;

// @public (undocumented)
export class DataLoadingTaskUnit extends BasicUnit {
    constructor(kernel: Kernel);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    periodTasks: {
        datasource_id: string;
        product_id: string;
        period_in_sec: number;
        start_time_in_us: number;
        end_time_in_us: number;
    }[];
    // (undocumented)
    productTasks: {
        datasource_id: string;
        product_id: string;
    }[];
}

// @public
export const diffPosition: (source: IPosition[], target: IPosition[]) => IPositionDiff[];

// Warning: (ae-internal-missing-underscore) The name "formatTime" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const formatTime: (time: Date | number) => string;

// @public
export const getClosePriceByDesiredProfit: (product: IProduct, openPrice: number, volume: number, desiredProfit: number, variant: PositionVariant, currency: string, quotes: (product_id: string) => {
    ask: number;
    bid: number;
} | undefined) => number;

// @public
export const getMargin: (product: IProduct, openPrice: number, volume: number, variant: PositionVariant, currency: string, quote: (product_id: string) => {
    ask: number;
    bid: number;
} | undefined) => number;

// @public
export const getProfit: (product: IProduct, openPrice: number, closePrice: number, volume: number, variant: PositionVariant, currency: string, quotes: (product_id: string) => {
    ask: number;
    bid: number;
} | undefined) => number;

// @public
export class HistoryOrderUnit extends BasicUnit {
    constructor(kernel: Kernel, quoteDataUnit: QuoteDataUnit, productDataUnit: ProductDataUnit);
    // @deprecated
    currentOrders: IOrder[];
    historyOrders: IOrder[];
    // (undocumented)
    kernel: Kernel;
    orderUpdated$: Observable<IOrder>;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    quoteDataUnit: QuoteDataUnit;
    updateOrder(order: IOrder): void;
}

// @public
export class HistoryPeriodLoadingUnit extends BasicUnit {
    constructor(kernel: Kernel, terminal: Terminal, productDataUnit: ProductDataUnit, periodDataUnit: PeriodDataUnit);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    onInit(): Promise<void>;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    periodTasks: {
        datasource_id: string;
        product_id: string;
        period_in_sec: number;
        start_time_in_us: number;
        end_time_in_us: number;
    }[];
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    terminal: Terminal;
}

// @public
export interface IAccountPerformance {
    // (undocumented)
    account_id: string;
    avg_profit_per_day: number;
    capital_occupancy_rate: number;
    // (undocumented)
    currency: string;
    daily_return_ratio: number;
    // (undocumented)
    _daily_return_ratio_list: number[];
    daily_sharpe_ratio: number;
    daily_sortino_ratio: number;
    drawdown: number;
    equity: number;
    equity_base: number;
    expect_everyday_downside_profit: number;
    expect_everyday_profit: number;
    expect_everyweek_downside_profit: number;
    expect_everyweek_profit: number;
    expect_squared_everyday_downside_profit: number;
    expect_squared_everyday_profit: number;
    expect_squared_everyweek_downside_profit: number;
    expect_squared_everyweek_profit: number;
    first_order_timestamp: number;
    // (undocumented)
    first_timestamp: number;
    // (undocumented)
    _history_position_performance: IAccountPositionPerformance[];
    integral_maintenance_margin: number;
    maintenance_margin: number;
    max_drawdown: number;
    max_equity: number;
    max_equity_base: number;
    max_maintenance_margin: number;
    max_used_margin: number;
    min_profit_interquartile_range: number;
    min_profit_lower_fence: number;
    min_profit_lower_fence_out_count: number;
    min_profit_p25: number;
    min_profit_p75: number;
    opening_equity: number;
    payback_period_in_days: number;
    // Warning: (ae-forgotten-export) The symbol "IAccountPositionPerformance" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    _position_performance_list: Record<string, IAccountPositionPerformance>;
    profit_drawdown_ratio: number;
    this_week_first_equity: number;
    this_week_profit: number;
    // (undocumented)
    timestamp: number;
    today_first_equity: number;
    today_profit: number;
    total_days: number;
    total_downside_days: number;
    total_downside_weeks: number;
    total_positions: number;
    total_weeks: number;
    volatility_everyday_downside_profit: number;
    volatility_everyday_profit: number;
    volatility_everyweek_downside_profit: number;
    volatility_everyweek_profit: number;
    // (undocumented)
    _weekly_equity: number[];
    weekly_return_ratio: number;
    // (undocumented)
    _weekly_return_ratio_list: number[];
    weekly_sharpe_ratio: number;
    weekly_sortino_ratio: number;
    yearly_return_ratio: number;
}

// @public (undocumented)
export interface IActivePortfolioManagementParameters {
    // (undocumented)
    account_ids: string[];
    // (undocumented)
    daily_alpha_list: number[];
    // (undocumented)
    daily_V: number[][];
    // (undocumented)
    weekly_alpha_list: number[];
    // (undocumented)
    weekly_V: number[][];
}

// @public (undocumented)
export interface IBatchShellResultItem {
    // (undocumented)
    accountInfo: IAccountInfo;
    // (undocumented)
    equityImageSrc: string;
    // (undocumented)
    performance: IAccountPerformance;
    // (undocumented)
    shellConf: IShellConf;
}

// @public
export interface IKernelUnit {
    kernel: Kernel;
    onDispose(): void | Promise<void>;
    onEvent(): void | Promise<void>;
    onIdle(): void | Promise<void>;
    onInit(): void | Promise<void>;
}

// @public (undocumented)
export interface IPortfolioStatistics {
    // (undocumented)
    coefficients: Record<string, number>;
    // (undocumented)
    period_end_target_account_info: IAccountInfo;
    // (undocumented)
    period_source_account_statistics: Record<string, {
        start_account_info: IAccountInfo;
        end_account_info: IAccountInfo;
        performance: IAccountPerformance;
    }>;
    // (undocumented)
    period_start_target_account_info: IAccountInfo;
    // (undocumented)
    start_timestamp: number;
    // (undocumented)
    target_account_performance: IAccountPerformance;
}

// @public (undocumented)
export interface IPositionDiff {
    error_volume: number;
    product_id: string;
    variant: PositionVariant;
    volume_in_source: number;
    volume_in_target: number;
}

// @public
export interface ISeries {
    // (undocumented)
    series_id: string;
    // (undocumented)
    tags: Record<string, any>;
    // (undocumented)
    value: number[];
}

// @public
export interface IShellConf {
    account_id?: string;
    allow_fallback_specific_product?: boolean;
    coefficient_fn_str?: string;
    currency?: string;
    disable_log?: boolean;
    end_time?: string;
    initial_balance?: number;
    is_real?: boolean;
    leverage?: number;
    period_self_check_interval_in_second?: number;
    publish_account?: boolean;
    resume_on_source_margin_below?: number;
    script_params?: Record<string, any>;
    script_path: string;
    start_time?: string;
    use_general_product?: boolean;
}

// @public
export class Kernel {
    constructor(id?: string);
    addUnit(unit: IKernelUnit): void;
    alloc(timestamp: number): number;
    chronologicErrors: number;
    currentEventId: number;
    currentTimestamp: number;
    // (undocumented)
    id: string;
    log: ((...params: any[]) => void) | undefined;
    start(): Promise<void>;
    status: 'created' | 'initializing' | 'running' | 'terminating' | 'terminated' | 'idle';
    terminate(): void;
    units: IKernelUnit[];
}

// @public (undocumented)
export class KernelFramesMetricsUnit extends BasicUnit {
    constructor(kernel: Kernel, account_id: string);
    // (undocumented)
    account_id: string;
    // (undocumented)
    frameCnt: number;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
}

// @public
export const mergePositions: (positions: IPosition[]) => IPosition[];

// @public
export class OrderLoadingUnit extends BasicUnit {
    constructor(kernel: Kernel, terminal: Terminal, historyOrderUnit: HistoryOrderUnit);
    // (undocumented)
    historyOrderUnit: HistoryOrderUnit;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    onInit(): Promise<void>;
    relatedProductIds: Set<string>;
    // (undocumented)
    tasks: {
        account_id: string;
        start_time: number;
        end_time: number;
    }[];
    // (undocumented)
    terminal: Terminal;
}

// @public
export class OrderMatchingUnit extends BasicUnit {
    constructor(kernel: Kernel, productDataUnit: ProductDataUnit, periodDataUnit: PeriodDataUnit, historyOrderUnit: HistoryOrderUnit);
    // (undocumented)
    cancelOrder(...orderIds: string[]): void;
    // (undocumented)
    getOrderById(id: string): IOrder | undefined;
    // (undocumented)
    historyOrderUnit: HistoryOrderUnit;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    listOrders(): IOrder[];
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    onInit(): void | Promise<void>;
    orderCancelled$: Observable<string[]>;
    orderSubmitted$: Observable<IOrder[]>;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    submitOrder(...orders: IOrder[]): void;
}

// @public
export const OrderMergeReplayScene: (kernel: Kernel, init_account_info: IAccountInfo, periods: IPeriod[], orders: IOrder[], products: IProduct[]) => {
    kernel: Kernel;
    accountInfoUnit: AccountSimulatorUnit;
    accountPerformanceUnit: AccountPerformanceUnit;
    productDataUnit: ProductDataUnit;
    quoteDataUnit: QuoteDataUnit;
    periodDataUnit: PeriodDataUnit;
};

// @public
export class PeriodDataCheckingUnit extends BasicUnit {
    constructor(kernel: Kernel, terminal: Terminal, account_id: string, periodDataUnit: PeriodDataUnit, interval: number);
    // (undocumented)
    account_id: string;
    // (undocumented)
    errorTotal: number;
    // (undocumented)
    interval: number;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onInit(): void;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    periodTasks: {
        datasource_id: string;
        product_id: string;
        period_in_sec: number;
        start_time_in_us: number;
    }[];
    // (undocumented)
    terminal: Terminal;
}

// @public
export class PeriodDataUnit extends BasicUnit {
    constructor(kernel: Kernel, quoteDataUnit: QuoteDataUnit);
    // @deprecated (undocumented)
    currentPeriod: IPeriod | null;
    // (undocumented)
    data: Record<string, IPeriod[]>;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void;
    periodUpdated$: Observable<IPeriod>;
    // (undocumented)
    quoteDataUnit: QuoteDataUnit;
    // (undocumented)
    updatePeriod(period: IPeriod): void;
}

// @public (undocumented)
export class PeriodMetricsUnit extends BasicUnit {
    constructor(kernel: Kernel, account_id: string, periodDataUnit: PeriodDataUnit);
    // (undocumented)
    account_id: string;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
}

// @public
export class PortfolioSimulatorUnit extends BasicUnit {
    constructor(kernel: Kernel, coefficient_fn_str: string, periodDataUnit: PeriodDataUnit, productDataUnit: ProductDataUnit, mapAccountInfoToUnits: Record<string, {
        accountInfoUnit: AccountSimulatorUnit;
        accountPerformanceUnit: AccountPerformanceUnit;
        originAccountInfoUnit: AccountSimulatorUnit;
        originAccountPerformanceUnit: AccountPerformanceUnit;
        historyOrderUnit: HistoryOrderUnit;
    }>, targetAccountInfoUnit: AccountSimulatorUnit, targetAccountPerformanceUnit: AccountPerformanceUnit, targetOrderMatchingUnit: OrderMatchingUnit);
    // (undocumented)
    coefficient_fn_str: string;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    mapAccountInfoToUnits: Record<string, {
        accountInfoUnit: AccountSimulatorUnit;
        accountPerformanceUnit: AccountPerformanceUnit;
        originAccountInfoUnit: AccountSimulatorUnit;
        originAccountPerformanceUnit: AccountPerformanceUnit;
        historyOrderUnit: HistoryOrderUnit;
    }>;
    // (undocumented)
    onEvent(): void;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    statistics: IPortfolioStatistics[];
    // (undocumented)
    targetAccountInfoUnit: AccountSimulatorUnit;
    // (undocumented)
    targetAccountPerformanceUnit: AccountPerformanceUnit;
    // (undocumented)
    targetOrderMatchingUnit: OrderMatchingUnit;
}

// @public
export class PositionLimitOrderMappingUnit extends BasicUnit {
    constructor(kernel: Kernel, positionLimit: number, sourceOrderMatchingUnit: OrderMatchingUnit, targetOrderMatchingUnit: OrderMatchingUnit, targetAccountInfoUnit: AccountSimulatorUnit);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onInit(): void | Promise<void>;
    // (undocumented)
    positionLimit: number;
    // (undocumented)
    sourceOrderMatchingUnit: OrderMatchingUnit;
    // (undocumented)
    targetAccountInfoUnit: AccountSimulatorUnit;
    // (undocumented)
    targetOrderMatchingUnit: OrderMatchingUnit;
}

// @public
export class ProductDataUnit extends BasicUnit {
    // (undocumented)
    mapProductIdToProduct: Record<string, IProduct>;
}

// @public
export class ProductLoadingUnit extends BasicUnit {
    constructor(kernel: Kernel, terminal: Terminal, productDataUnit: ProductDataUnit, options?: {
        use_general_product?: boolean | undefined;
        allow_fallback_specific_product?: boolean | undefined;
    } | undefined);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onInit(): Promise<void>;
    // (undocumented)
    options?: {
        use_general_product?: boolean | undefined;
        allow_fallback_specific_product?: boolean | undefined;
    } | undefined;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    productTasks: {
        datasource_id: string;
        product_id: string;
    }[];
    // (undocumented)
    terminal: Terminal;
}

// @public
export const productsSchema: JSONSchema7;

// @public
export class QuoteDataUnit extends BasicUnit {
    // (undocumented)
    mapProductIdToQuote: Record<string, {
        ask: number;
        bid: number;
    }>;
}

// @public (undocumented)
export class QuoteMetricsUnit extends BasicUnit {
    constructor(kernel: Kernel, account_id: string, quoteDataUnit: QuoteDataUnit);
    // (undocumented)
    account_id: string;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    quoteDataUnit: QuoteDataUnit;
}

// @public
export class RealtimePeriodLoadingUnit extends BasicUnit {
    constructor(kernel: Kernel, terminal: Terminal, productDataUnit: ProductDataUnit, periodDataUnit: PeriodDataUnit);
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    onIdle(): Promise<void>;
    // (undocumented)
    onInit(): Promise<void>;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    periodTasks: {
        datasource_id: string;
        product_id: string;
        period_in_sec: number;
    }[];
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    terminal: Terminal;
}

// @public
export class ScriptNode {
    constructor(shell: ScriptUnit, path: string, referrer_path: string, scriptConf: Record<string, any>);
    // (undocumented)
    children: ScriptNode[];
    // (undocumented)
    getParamsSchema: () => JSONSchema7;
    // (undocumented)
    _hookIdx: number;
    // (undocumented)
    _hooks: any[];
    // (undocumented)
    id: string;
    // (undocumented)
    init(): Promise<void>;
    // (undocumented)
    _paramsSchema: JSONSchema7;
    // (undocumented)
    path: string;
    // (undocumented)
    referrer_path: string;
    // (undocumented)
    resolved_path: string;
    // (undocumented)
    resolveScript(id: string, ref: string): Promise<{
        path: string;
        content: string;
    }>;
    // (undocumented)
    scriptConf: Record<string, any>;
    // (undocumented)
    shell: ScriptUnit;
    // (undocumented)
    update(): void;
}

// @public
export class ScriptUnit extends BasicUnit {
    constructor(kernel: Kernel, productDataUnit: ProductDataUnit, productLoadingUnit: ProductLoadingUnit | null, periodLoadingUnit: HistoryPeriodLoadingUnit | null, periodDataUnit: PeriodDataUnit, orderMatchingUnit: OrderMatchingUnit, accountInfoUnit: AccountSimulatorUnit, seriesDataUnit: SeriesDataUnit, scriptResolver: {
        readFile: (path: string) => Promise<string>;
    }, scriptPath: string, scriptParams: Record<string, any>, options: {
        start_time: number;
        end_time: number;
    });
    // (undocumented)
    accountInfoUnit: AccountSimulatorUnit;
    init(): Promise<void>;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onEvent(): void | Promise<void>;
    // (undocumented)
    options: {
        start_time: number;
        end_time: number;
    };
    // (undocumented)
    orderMatchingUnit: OrderMatchingUnit;
    // (undocumented)
    periodDataUnit: PeriodDataUnit;
    // (undocumented)
    periodLoadingUnit: HistoryPeriodLoadingUnit | null;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    productLoadingUnit: ProductLoadingUnit | null;
    // (undocumented)
    record_table: Record<string, Record<string, string | number>[]>;
    // (undocumented)
    root: ScriptNode;
    // (undocumented)
    scriptParams: Record<string, any>;
    // (undocumented)
    scriptPath: string;
    // (undocumented)
    scriptResolver: {
        readFile: (path: string) => Promise<string>;
    };
    // (undocumented)
    seriesDataUnit: SeriesDataUnit;
}

// @public
export class Series extends Array<number> {
    findParentWard(predicate: (series: Series) => any): Series | undefined;
    name: string | undefined;
    parent: Series | undefined;
    resolveRoot(): Series;
    resolveValue(tagName: string): any;
    series_id: string;
    tags: Record<string, any>;
}

// @public
export class SeriesDataUnit extends BasicUnit {
    // (undocumented)
    series: Series[];
}

// @public
export const shellConfSchema: JSONSchema7;

// @public
export const ShellScene: (terminal: Terminal, shellConf: IShellConf, scriptResolver: {
    readFile: (path: string) => Promise<string>;
}) => Promise<{
    kernel: Kernel;
    accountInfoUnit: AccountSimulatorUnit;
    accountPerformanceUnit: AccountPerformanceUnit;
    scriptUnit: ScriptUnit;
    periodDataUnit: PeriodDataUnit;
    quoteDataUnit: QuoteDataUnit;
    productDataUnit: ProductDataUnit;
    historyOrderUnit: HistoryOrderUnit;
    stopLossAccountInfoUnit: AccountSimulatorUnit | undefined;
    stopLossAccountPerformanceUnit: AccountPerformanceUnit | undefined;
    stopLossHistoryOrderUnit: HistoryOrderUnit | undefined;
    portfolioAccountInfoUnit: AccountSimulatorUnit | undefined;
    portfolioAccountPerformanceUnit: AccountPerformanceUnit | undefined;
    portfolioHistoryOrderUnit: HistoryOrderUnit | undefined;
}>;

// @public
export const StopLossAccountReplayScene: (terminal: Terminal, account_id: string, currency: string, leverage: number, start_timestamp: number, end_timestamp: number, period_in_sec: number, resumeOnSourceMarginBelow: number, datasource_id?: string) => {
    kernel: Kernel;
    accountInfoUnit: AccountSimulatorUnit;
    accountPerformanceUnit: AccountPerformanceUnit;
};

// @public
export class StopLossOrderMapperUnit extends BasicUnit {
    constructor(kernel: Kernel, account_id: string, resumeOnSourceMarginBelow: number, productDataUnit: ProductDataUnit, quoteDataUnit: QuoteDataUnit, sourceAccountSimulatorUnit: AccountSimulatorUnit, sourceAccountPerformanceUnit: AccountPerformanceUnit, sourceHistoryOrderUnit: HistoryOrderUnit, targetOrderMatchingUnit: OrderMatchingUnit, targetHistoryOrderUnit: HistoryOrderUnit);
    // (undocumented)
    account_id: string;
    // (undocumented)
    in_stop_loss_state: boolean;
    // (undocumented)
    kernel: Kernel;
    // (undocumented)
    onDispose(): void | Promise<void>;
    // (undocumented)
    onEvent(): void;
    // (undocumented)
    onInit(): void | Promise<void>;
    // (undocumented)
    productDataUnit: ProductDataUnit;
    // (undocumented)
    quoteDataUnit: QuoteDataUnit;
    // (undocumented)
    resumeOnSourceMarginBelow: number;
    // (undocumented)
    sourceAccountPerformanceUnit: AccountPerformanceUnit;
    // (undocumented)
    sourceAccountSimulatorUnit: AccountSimulatorUnit;
    // (undocumented)
    sourceHistoryOrderUnit: HistoryOrderUnit;
    // (undocumented)
    targetHistoryOrderUnit: HistoryOrderUnit;
    // (undocumented)
    targetOrderMatchingUnit: OrderMatchingUnit;
}

// Warnings were encountered during analysis:
//
// src/scenes/ActivePortfolioManagementScene.ts:313:5 - (ae-forgotten-export) The symbol "AccountFrameUnit" needs to be exported by the entry point index.d.ts
// src/scenes/ActivePortfolioManagementScene.ts:316:5 - (ae-forgotten-export) The symbol "ActivePortfolioOptimizeSimulatorUnit" needs to be exported by the entry point index.d.ts
// src/scenes/ActivePortfolioManagementScene.ts:317:5 - (ae-forgotten-export) The symbol "ActivePortfolioParamUnit" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
