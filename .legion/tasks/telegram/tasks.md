# 移除 Telegram 遗留代码（前后端）并清理重构命名 - 任务清单

## 快速恢复

**当前阶段**: 阶段 1 - 盘点与影响面确认
**当前任务**: 全仓库检索 `telegram`/`tg`/`bot`/`webhook`/`t.me`/相关环境变量，列出需要删除/替换的文件、路由、组件、类型与配置。
**进度**: 0/9 任务完成

---

## 阶段 1: 盘点与影响面确认 ⏳ NOT STARTED

- [ ] 全仓库检索 `telegram`/`tg`/`bot`/`webhook`/`t.me`/相关环境变量，列出需要删除/替换的文件、路由、组件、类型与配置。 | 验收: 形成明确的删除/替换清单（文件路径+用途+依赖点），并在 `context.md` 记录风险与回滚点。 ← CURRENT
- [ ] 确认当前产品需求：Telegram 功能是否完全下线；是否需要保留通用的 OAuth/登录/通知等非 Telegram 能力；对外 API 是否需要向后兼容（保留空实现/返回错误）。 | 验收: 在 `context.md` 记录约束/决策：哪些能力保留、哪些必须删除、兼容策略（如有）。

---

## 阶段 2: 后端移除与重构 ⏳ NOT STARTED

- [ ] 移除后端 Telegram 相关：路由/控制器/服务/队列任务/webhook 处理、类型定义、配置与环境变量读取；同步清理未使用依赖与导出。 | 验收: `backend` 中无 Telegram 相关可达代码路径；构建/类型检查通过；启动不再要求 Telegram 相关 env。
- [ ] 如果存在对外 API 或 DB 表字段依赖 Telegram（如 user.telegramId），按决策进行迁移：删除字段/保留但不再使用/兼容返回；更新类型与校验。 | 验收: DB/类型/API 一致；无运行时因缺字段/缺类型导致的错误。
- [ ] 重构改名：将历史遗留的 Telegram 命名（变量/类型/文件名）替换为更通用的命名（如 `messaging`/`integration`/`externalAuth`），避免误导。 | 验收: 后端公开接口/内部模块命名不再含 Telegram 语义（除非明确需要兼容）。

---

## 阶段 3: 前端移除与重构 ⏳ NOT STARTED

- [ ] 移除前端 Telegram 相关组件与页面逻辑（例如 `frontend/src/components/telegram-weidget`），以及任何与其耦合的状态、hooks、路由入口与样式资源。 | 验收: `frontend` 构建通过；页面不再渲染 Telegram Widget；无死代码/未使用导入。
- [ ] 重构改名：如果现有功能实际是“通用第三方登录/引导”，将 UI 文案与组件命名调整为通用语义；修正明显的拼写遗留（如 `weidget`）。 | 验收: 前端组件/文件命名与实际功能一致；不再出现 `telegram`/`weidget` 等误导性命名（除非作为迁移兼容层）。

---

## 阶段 4: 清理、验证与文档 ⏳ NOT STARTED

- [ ] 清理依赖与配置：移除 Telegram 相关 npm/pnpm 依赖、后端依赖、环境变量示例/README/设计文档中的引用；保证 lint/format 规则不新增噪声。 | 验收: 依赖树中无 Telegram 专用依赖（如有需要保留需在 `context.md` 说明）；配置与文档无 Telegram 引用。
- [ ] 增加/更新最小验证：后端类型检查/单测（如已有）、前端 build；补充一个“无 Telegram 依赖”检查（如 `rg telegram` 零命中或仅剩变更日志）。 | 验收: 验证命令全部通过；仓库内不再残留 Telegram 代码（允许历史变更记录/迁移说明）。

---

## 发现的新任务

(暂无)

---

_最后更新: 2025-12-19 21:01_
