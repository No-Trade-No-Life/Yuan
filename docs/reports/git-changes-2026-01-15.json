{
  "range": {
    "old": "4f7fdb73f2c7e712e1c0630db286e6b287f3bc99",
    "new": "0098f6b84ab80aaefa53a97d418588c70759176a",
    "label": "4f7fdb73f..0098f6b84",
    "startDate": "2026-01-14",
    "endDate": "2026-01-14",
    "commitCount": 3,
    "generatedAt": "2026-01-15T00:06:20.787Z"
  },
  "contributors": [
    {
      "name": "Siyuan Wang",
      "email": "c.one@thrimbda.com",
      "commits": 2
    },
    {
      "name": "humblelittlec1[bot]",
      "email": "208195530+humblelittlec1[bot]@users.noreply.github.com",
      "commits": 1
    }
  ],
  "directoryAnalysis": {
    "topLevel": [
      {
        "dir": "apps",
        "fileCount": 19
      },
      {
        "dir": ".legion",
        "fileCount": 9
      },
      {
        "dir": "common",
        "fileCount": 4
      },
      {
        "dir": "rush.json",
        "fileCount": 1
      }
    ],
    "projects": [
      {
        "project": "apps/asg-eventbridge-notifier",
        "fileCount": 10,
        "marker": "package.json"
      },
      {
        "project": ".legion",
        "fileCount": 9,
        "marker": null
      },
      {
        "project": "apps/vendor-hyperliquid",
        "fileCount": 5,
        "marker": "package.json"
      },
      {
        "project": "apps/node-unit",
        "fileCount": 4,
        "marker": "package.json"
      },
      {
        "project": "common",
        "fileCount": 4,
        "marker": null
      },
      {
        "project": "rush.json",
        "fileCount": 1,
        "marker": null
      }
    ],
    "markersUsed": [
      "package.json",
      "Cargo.toml",
      "go.mod",
      "requirements.txt",
      "pyproject.toml",
      "setup.py",
      "pom.xml",
      "build.gradle",
      "build.gradle.kts",
      "CMakeLists.txt",
      "Makefile",
      "pubspec.yaml",
      "mix.exs",
      "Gemfile",
      "composer.json"
    ]
  },
  "commits": [
    {
      "hash": "83608ad3ae66da7d65a4e0cf71b13322a6f06680",
      "short": "83608ad3a",
      "author": "Siyuan Wang",
      "email": "c.one@thrimbda.com",
      "authoredAt": "2026-01-14 17:09:01 +0800",
      "subject": "feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)",
      "conventionalCommit": {
        "type": "feat",
        "scope": "node-unit",
        "breaking": false
      },
      "files": [
        {
          "additions": 4,
          "deletions": 4,
          "path": ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          "changeType": "modified",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/.legion/tasks/hyperliquid-api-tokenbucket/context.md b/.legion/tasks/hyperliquid-api-tokenbucket/context.md\nindex 6c573d4ca..422a68ce8 100644\n--- a/.legion/tasks/hyperliquid-api-tokenbucket/context.md\n+++ b/.legion/tasks/hyperliquid-api-tokenbucket/context.md\n@@ -26,0 +27,2 @@\n+- ç§»é™¤ `afterRestResponse` çš„ tokenBucket è¿½åŠ æ‰£å‡é€»è¾‘ä¸è°ƒç”¨ç‚¹ï¼Œä»…ä¿ç•™è¯·æ±‚å‰é™æµï¼›åŒæ­¥è°ƒæ•´å•æµ‹ä¸ Session Notesã€‚\n+- æ¢å¤å“åº”åé™æµå®ç°ä¸å•æµ‹ï¼Œä½†åœ¨ `client.ts` æ³¨é‡Šè°ƒç”¨ï¼Œä¿æŒè¯·æ±‚å‰é™æµè¡Œä¸ºã€‚\n@@ -66,2 +68 @@\n-1. å¦‚éœ€ç»§ç»­æ‰©å…… Hyperliquid API å°è£…ï¼šæ²¿ç”¨æœ¬æ¬¡æ¨¡å¼å…ˆåŠ  `build*RequestBody`/`build*Action` å†è¡¥ç¦»çº¿å•æµ‹ï¼Œé¿å…å¼•å…¥ç½‘ç»œæˆ– mock\n-2. å¦‚è¦æ’æŸ¥ Jest \"failed to exit gracefully\"ï¼šå¯åœ¨ `apps/vendor-hyperliquid` ä¸‹ç”¨ `./node_modules/.bin/heft test --clean -- --detectOpenHandles` å®šä½æœªé‡Šæ”¾çš„ handleï¼ˆå½“å‰ä¸å½±å“é€šè¿‡ï¼‰\n+1. å¦‚éœ€é‡æ–°å¯ç”¨å“åº”åæ‰£å‡ï¼Œå–æ¶ˆ `apps/vendor-hyperliquid/src/api/client.ts` çš„æ³¨é‡Šè°ƒç”¨ã€‚\n@@ -71,2 +72 @@\n-- æœ¬æ¬¡æ–°å¢ public/private API å•æµ‹å‡ä¸ºç¦»çº¿çº¯å‡½æ•°/ç­¾åéªŒè¯ï¼Œä¸ä¼šè§¦å‘çœŸå® HTTP è¯·æ±‚\n-- `buildUserFillsRequestBody` å·²ä¿®å¤ startTime/endTime=0 æ—¶æ„é€ ä¸¢å­—æ®µçš„é—®é¢˜ï¼ˆç”± `if (params?.startTime)` æ”¹ä¸º `!= null` åˆ¤æ–­ï¼‰\n+- å½“å‰ response-based extra weight é€»è¾‘ä¿ç•™ä¸”è¦†ç›–å•æµ‹ï¼Œä½†åœ¨è¿è¡Œæ—¶ä¸æ‰§è¡Œã€‚\n",
          "codeSnippets": []
        },
        {
          "additions": 48,
          "deletions": 0,
          "path": ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/.legion/tasks/node-unit-deployment-grafana-dashboard/context.md b/.legion/tasks/node-unit-deployment-grafana-dashboard/context.md\nnew file mode 100644\nindex 000000000..5d311c8f5\n--- /dev/null\n+++ b/.legion/tasks/node-unit-deployment-grafana-dashboard/context.md\n@@ -0,0 +1,48 @@\n+# node-unit-deployment-grafana-dashboard - ä¸Šä¸‹æ–‡\n+\n+## ä¼šè¯è¿›å±• (2026-01-12)\n+\n+### âœ… å·²å®Œæˆ\n+\n+- å·²é˜…è¯» `.c1-cellar/dashboard.json`ï¼šdatasource å˜é‡ä¸º `datasource`ï¼ˆprometheusï¼‰ï¼Œé»˜è®¤ refresh=10sã€time=now-5mã€UTCã€dark é£æ ¼ï¼Œé¢æ¿ä¸»è¦ä¸º `graph` + `table-old`ã€‚\n+- ç¡®è®¤ node-unit æŒ‡æ ‡ labelï¼šdeployment_idã€package_nameã€package_versionã€node_unit_nameã€node_unit_addressã€pidï¼ˆæ¥æºï¼š`apps/node-unit/src/index.ts` ä¸ `apps/node-unit/monitoring.md`ï¼‰ã€‚\n+- å·²ç”Ÿæˆæ–°çš„ Grafana dashboardï¼š`.c1-cellar/dashboard-node-unit-deployment.json`ï¼ŒåŒ…å« CPU/Memory æ€»é‡ã€æŒ‰ deployment ç»´åº¦è¶‹åŠ¿ã€TopN ä¸ 1h å³°å€¼é¢æ¿ï¼Œå¹¶æ¥å…¥ node_unit ç›¸å…³å˜é‡ã€‚\n+- è°ƒæ•´ CPU Rate by Deployment é¢æ¿çš„ legendï¼Œè¿½åŠ  package_name ä»¥ä¾¿è¯†åˆ«æ¥æºã€‚\n+\n+### ğŸŸ¡ è¿›è¡Œä¸­\n+\n+(æš‚æ— )\n+\n+### âš ï¸ é˜»å¡/å¾…å®š\n+\n+(æš‚æ— )\n+\n+---\n+\n+## å…³é”®æ–‡ä»¶\n+\n+(æš‚æ— )\n+\n+---\n+\n+## å…³é”®å†³ç­–\n+\n+| å†³ç­– | åŸå›  | æ›¿ä»£æ–¹æ¡ˆ | æ—¥æœŸ |\n+| ---- | ---- | -------- | ---- |\n+\n+---\n+\n+## å¿«é€Ÿäº¤æ¥\n+\n+**ä¸‹æ¬¡ç»§ç»­ä»è¿™é‡Œå¼€å§‹ï¼š**\n+\n+1. åœ¨ Grafana ä¸­å¯¼å…¥ `.c1-cellar/dashboard-node-unit-deployment.json` å¹¶ç¡®è®¤æ•°æ®æºåç§°ä¸å˜é‡èƒ½æ­£å¸¸è§£æã€‚\n+2. è‹¥æ•°æ®é‡è¾ƒå¤§ï¼Œè€ƒè™‘æŠŠ `max_over_time` çš„çª—å£ä» 1h è°ƒæ•´ä¸ºæ›´çŸ­æˆ–æ”¹ç”¨å½•åˆ¶è§„åˆ™ã€‚\n+\n+**æ³¨æ„äº‹é¡¹ï¼š**\n+\n+- ä»…ç”¨ `python -m json.tool` æ ¡éªŒäº† JSON è¯­æ³•ï¼Œæœªåœ¨ Grafana å®é™…å¯¼å…¥éªŒè¯ã€‚\n+\n+---\n+\n+_æœ€åæ›´æ–°: 2026-01-13 14:01 by Claude_\n",
          "codeSnippets": []
        },
        {
          "additions": 65,
          "deletions": 0,
          "path": ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/.legion/tasks/node-unit-deployment-grafana-dashboard/plan.md b/.legion/tasks/node-unit-deployment-grafana-dashboard/plan.md\nnew file mode 100644\nindex 000000000..a798d4e6d\n--- /dev/null\n+++ b/.legion/tasks/node-unit-deployment-grafana-dashboard/plan.md\n@@ -0,0 +1,65 @@\n+# node-unit-deployment-grafana-dashboard\n+\n+## ç›®æ ‡\n+\n+åŸºäº node_unit_deployment_cpu_seconds_total ä¸ node_unit_deployment_memory_rss_bytes æ–°å»º Grafana dashboardï¼Œå¹¶æ²¿ç”¨ç°æœ‰ dashboard.json çš„é£æ ¼ä¸å˜é‡é…ç½®ã€‚\n+\n+## è¦ç‚¹\n+\n+- å¤ç”¨ `.c1-cellar/dashboard.json` çš„å˜é‡ã€æ ·å¼ä¸å…¨å±€è®¾ç½®ï¼Œä¿æŒä¸€è‡´çš„å±•ç¤ºè¯­è¨€\n+- å›´ç»• CPU/Memory æŒ‡æ ‡è®¾è®¡å…³é”®è§†å›¾ï¼šæ€»é‡ã€æŒ‰ deployment/instance çš„ TopNã€è¶‹åŠ¿ä¸åˆ†ä½/æå€¼\n+- æ˜ç¡®æŒ‡æ ‡æ ‡ç­¾é€‰æ‹©ï¼ˆå¦‚ deploymentã€instanceã€namespace ç­‰ï¼‰å¹¶ç»™å‡ºç»Ÿä¸€è¿‡æ»¤å˜é‡\n+- è¾“å‡ºæ–°çš„ dashboard JSON æ–‡ä»¶ï¼Œæ³¨æ˜å¯¼å…¥æ–¹å¼ä¸ä¾èµ–çš„æ•°æ®æºå\n+\n+## èŒƒå›´\n+\n+- .c1-cellar/dashboard.jsonï¼ˆä»…å‚è€ƒï¼‰\n+- .c1-cellar/dashboard-node-unit-deployment.jsonï¼ˆæ–°æ–‡ä»¶ï¼‰\n+\n+## é˜¶æ®µæ¦‚è§ˆ\n+\n+1. **è°ƒç ”** - 1 ä¸ªä»»åŠ¡\n+2. **è®¾è®¡** - 1 ä¸ªä»»åŠ¡\n+3. **å®ç°** - 1 ä¸ªä»»åŠ¡\n+\n+---\n+\n+## é¢æ¿è®¾è®¡ï¼ˆPromQLï¼‰\n+\n+### å˜é‡\n+\n+- `datasource`: `prometheus`\n+- `node_unit_name`: `label_values(node_unit_deployment_cpu_seconds_total, node_unit_name)`\n+- `package_name`: `label_values(node_unit_deployment_cpu_seconds_total, package_name)`\n+- `package_version`: `label_values(node_unit_deployment_cpu_seconds_total, package_version)`\n+- `deployment_id`: `label_values(node_unit_deployment_cpu_seconds_total, deployment_id)`\n+\n+æŸ¥è¯¢ç»Ÿä¸€è¿‡æ»¤ï¼š\n+\n+```\n+{node_unit_name=~\"$node_unit_name\",package_name=~\"$package_name\",package_version=~\"$package_version\",deployment_id=~\"$deployment_id\"}\n+```\n+\n+### CPU\n+\n+- CPU Rate Totalï¼ˆgraphï¼Œunit=shortï¼‰\n+  - `sum(rate(node_unit_deployment_cpu_seconds_total{...}[5m]))`\n+- CPU Rate by Deploymentï¼ˆgraphï¼Œstack=trueï¼Œunit=shortï¼‰\n+  - `sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{...}[5m]))`\n+- CPU Top 10ï¼ˆtableï¼Œinstantï¼Œunit=shortï¼‰\n+  - `topk(10, sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{...}[5m])))`\n+- CPU Peak 1hï¼ˆtableï¼Œinstantï¼Œunit=shortï¼‰\n+  - `topk(10, max_over_time((sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{...}[5m])))[1h:]))`\n+\n+### Memory\n+\n+- Memory RSS Totalï¼ˆgraphï¼Œunit=bytesï¼‰\n+  - `sum(node_unit_deployment_memory_rss_bytes{...})`\n+- Memory RSS by Deploymentï¼ˆgraphï¼Œstack=trueï¼Œunit=bytesï¼‰\n+  - `sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{...})`\n+- Memory Top 10ï¼ˆtableï¼Œinstantï¼Œunit=bytesï¼‰\n+  - `topk(10, sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{...}))`\n+- Memory Peak 1hï¼ˆtableï¼Œinstantï¼Œunit=bytesï¼‰\n+  - `topk(10, max_over_time((sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{...}))[1h:]))`\n+\n+_åˆ›å»ºäº: 2026-01-12 | æœ€åæ›´æ–°: 2026-01-12_\n",
          "codeSnippets": []
        },
        {
          "additions": 35,
          "deletions": 0,
          "path": ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/.legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md b/.legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md\nnew file mode 100644\nindex 000000000..f630887cc\n--- /dev/null\n+++ b/.legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md\n@@ -0,0 +1,35 @@\n+# node-unit-deployment-grafana-dashboard - ä»»åŠ¡æ¸…å•\n+\n+## å¿«é€Ÿæ¢å¤\n+\n+**å½“å‰é˜¶æ®µ**: é˜¶æ®µ 3 - å®ç°\n+**å½“å‰ä»»åŠ¡**: (none)\n+**è¿›åº¦**: 3/3 ä»»åŠ¡å®Œæˆ\n+\n+---\n+\n+## é˜¶æ®µ 1: è°ƒç ” âœ… COMPLETE\n+\n+- [x] é˜…è¯» `.c1-cellar/dashboard.json`ï¼Œæ•´ç†ç°æœ‰å˜é‡ã€é¢æ¿é£æ ¼ä¸æ•°æ®æºå‘½åè§„åˆ™ï¼›åŒæ—¶ç¡®è®¤ä¸¤æ¡æŒ‡æ ‡çš„ label ç»“æ„ï¼ˆé€šè¿‡ä»“åº“é…ç½®æˆ–å·²æœ‰æŸ¥è¯¢è§„åˆ™æ¨æ–­ï¼‰ã€‚ | éªŒæ”¶: context.md è®°å½•å˜é‡åˆ—è¡¨ã€datasource åç§°ã€æ—¶é—´èŒƒå›´/åˆ·æ–°è®¾ç½®ï¼Œä»¥åŠ node_unit æŒ‡æ ‡çš„ label å‡è®¾ä¸ä¸ç¡®å®šç‚¹ã€‚\n+\n+---\n+\n+## é˜¶æ®µ 2: è®¾è®¡ âœ… COMPLETE\n+\n+- [x] è®¾è®¡é¢æ¿åˆ—è¡¨ä¸æŸ¥è¯¢ï¼šCPU rate/åˆ©ç”¨ç‡ã€memory RSSã€æŒ‰ deployment/instance TopNã€è¶‹åŠ¿ä¸ç»Ÿè®¡ï¼ˆå¦‚ avg/maxï¼‰ã€‚ | éªŒæ”¶: plan.md æ˜ç¡®æ¯ä¸ªé¢æ¿çš„æ ‡é¢˜ã€PromQLã€legend ä¸å•ä½/é˜ˆå€¼ã€‚\n+\n+---\n+\n+## é˜¶æ®µ 3: å®ç° âœ… COMPLETE\n+\n+- [x] åŸºäºç°æœ‰ dashboard.json å¤åˆ¶å¹¶ç”Ÿæˆæ–°çš„ dashboard JSONï¼Œæ›¿æ¢ä¸º node_unit_deployment æŒ‡æ ‡é¢æ¿ã€‚ | éªŒæ”¶: æ–° JSON å¯å¯¼å…¥ Grafanaï¼›å˜é‡ä¸é¢æ¿å¯æ­£å¸¸æ¸²æŸ“ï¼ˆPromQL/å•ä½/legend åˆç†ï¼‰ã€‚\n+\n+---\n+\n+## å‘ç°çš„æ–°ä»»åŠ¡\n+\n+(æš‚æ— )\n+\n+---\n+\n+_æœ€åæ›´æ–°: 2026-01-12 14:05_\n",
          "codeSnippets": []
        },
        {
          "additions": 1233,
          "deletions": 0,
          "path": "apps/node-unit/dashboard-node-unit-deployment.json",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/apps/node-unit/dashboard-node-unit-deployment.json b/apps/node-unit/dashboard-node-unit-deployment.json\nnew file mode 100644\nindex 000000000..70fb7ceee\n--- /dev/null\n+++ b/apps/node-unit/dashboard-node-unit-deployment.json\n@@ -0,0 +1,1233 @@\n+{\n+  \"annotations\": {\n+    \"list\": [\n+      {\n+        \"builtIn\": 1,\n+        \"datasource\": {\n+          \"type\": \"grafana\",\n+          \"uid\": \"-- Grafana --\"\n+        },\n+        \"enable\": true,\n+        \"hide\": true,\n+        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n+        \"name\": \"Annotations & Alerts\",\n+        \"target\": {\n+          \"limit\": 100,\n+          \"matchAny\": false,\n+          \"tags\": [],\n+          \"type\": \"dashboard\"\n+        },\n+        \"type\": \"dashboard\"\n+      }\n+    ]\n+  },\n+  \"editable\": true,\n+  \"fiscalYearStartMonth\": 0,\n+  \"graphTooltip\": 0,\n+  \"id\": null,\n+  \"links\": [],\n+  \"liveNow\": false,\n+  \"panels\": [\n+    {\n+      \"collapsed\": false,\n+      \"datasource\": {\n+        \"type\": \"datasource\",\n+        \"uid\": \"grafana\"\n+      },\n+      \"gridPos\": {\n+        \"h\": 1,\n+        \"w\": 24,\n+        \"x\": 0,\n+        \"y\": 0\n+      },\n+      \"id\": 1,\n+      \"panels\": [],\n+      \"title\": \"CPU\",\n+      \"type\": \"row\"\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 10,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 1\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 2,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 0,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"options\": {\n+        \"alertThreshold\": true\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"10.0.9\",\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"expr\": \"sum(rate(node_unit_deployment_cpu_seconds_total{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}[5m]))\",\n+          \"format\": \"time_series\",\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"total\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeRegions\": [],\n+      \"title\": \"CPU Rate (Total)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"type\": \"graph\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ],\n+      \"yaxis\": {\n+        \"align\": false\n+      }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 10,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 12,\n+        \"y\": 1\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 3,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 0,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"options\": {\n+        \"alertThreshold\": true\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"10.0.9\",\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": true,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"expr\": \"sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}[5m]))\",\n+          \"format\": \"time_series\",\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"{{deployment_id}} - {{package_name}}\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeRegions\": [],\n+      \"title\": \"CPU Rate by Deployment\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"type\": \"graph\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ],\n+      \"yaxis\": {\n+        \"align\": false\n+      }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"columns\": [],\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 1,\n+      \"fontSize\": \"100%\",\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 8\n+      },\n+      \"id\": 4,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 1,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"percentage\": false,\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"showHeader\": true,\n+      \"sort\": {\n+        \"col\": 1,\n+        \"desc\": true\n+      },\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"styles\": [\n+        {\n+          \"alias\": \"Time\",\n+          \"align\": \"auto\",\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"pattern\": \"Time\",\n+          \"type\": \"hidden\"\n+        },\n+        {\n+          \"alias\": \"CPU Rate\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 3,\n+          \"link\": false,\n+          \"linkTargetBlank\": false,\n+          \"linkTooltip\": \"Drill down\",\n+          \"linkUrl\": \"\",\n+          \"pattern\": \"Value #A\",\n+          \"thresholds\": [],\n+          \"type\": \"number\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Deployment\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"deployment_id\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Package\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Version\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_version\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Node Unit\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"node_unit_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"/.*/\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        }\n+      ],\n+      \"targets\": [\n+        {\n+          \"expr\": \"topk(10, sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}[5m])))\",\n+          \"format\": \"table\",\n+          \"instant\": true,\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"title\": \"CPU Top 10 (Current)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"transform\": \"table\",\n+      \"type\": \"table-old\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"columns\": [],\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 1,\n+      \"fontSize\": \"100%\",\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 12,\n+        \"y\": 8\n+      },\n+      \"id\": 5,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 1,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"percentage\": false,\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"showHeader\": true,\n+      \"sort\": {\n+        \"col\": 1,\n+        \"desc\": true\n+      },\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"styles\": [\n+        {\n+          \"alias\": \"Time\",\n+          \"align\": \"auto\",\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"pattern\": \"Time\",\n+          \"type\": \"hidden\"\n+        },\n+        {\n+          \"alias\": \"CPU Peak (1h)\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 3,\n+          \"link\": false,\n+          \"linkTargetBlank\": false,\n+          \"linkTooltip\": \"Drill down\",\n+          \"linkUrl\": \"\",\n+          \"pattern\": \"Value #A\",\n+          \"thresholds\": [],\n+          \"type\": \"number\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Deployment\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"deployment_id\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Package\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Version\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_version\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Node Unit\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"node_unit_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"/.*/\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        }\n+      ],\n+      \"targets\": [\n+        {\n+          \"expr\": \"topk(10, max_over_time((sum by (deployment_id, package_name, package_version, node_unit_name) (rate(node_unit_deployment_cpu_seconds_total{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}[5m])))[1h:]))\",\n+          \"format\": \"table\",\n+          \"instant\": true,\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"title\": \"CPU Peak 1h (Max)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"transform\": \"table\",\n+      \"type\": \"table-old\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"collapsed\": false,\n+      \"datasource\": {\n+        \"type\": \"datasource\",\n+        \"uid\": \"grafana\"\n+      },\n+      \"gridPos\": {\n+        \"h\": 1,\n+        \"w\": 24,\n+        \"x\": 0,\n+        \"y\": 15\n+      },\n+      \"id\": 6,\n+      \"panels\": [],\n+      \"title\": \"Memory\",\n+      \"type\": \"row\"\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 10,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 16\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 7,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 0,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"options\": {\n+        \"alertThreshold\": true\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"10.0.9\",\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"expr\": \"sum(node_unit_deployment_memory_rss_bytes{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"})\",\n+          \"format\": \"time_series\",\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"total\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeRegions\": [],\n+      \"title\": \"Memory RSS (Total)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"type\": \"graph\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"bytes\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ],\n+      \"yaxis\": {\n+        \"align\": false\n+      }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 10,\n+      \"fillGradient\": 0,\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 12,\n+        \"y\": 16\n+      },\n+      \"hiddenSeries\": false,\n+      \"id\": 8,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 0,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"options\": {\n+        \"alertThreshold\": true\n+      },\n+      \"percentage\": false,\n+      \"pluginVersion\": \"10.0.9\",\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"spaceLength\": 10,\n+      \"stack\": true,\n+      \"steppedLine\": false,\n+      \"targets\": [\n+        {\n+          \"expr\": \"sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"})\",\n+          \"format\": \"time_series\",\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"{{deployment_id}}\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"timeRegions\": [],\n+      \"title\": \"Memory RSS by Deployment\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"type\": \"graph\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"bytes\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ],\n+      \"yaxis\": {\n+        \"align\": false\n+      }\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"columns\": [],\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 1,\n+      \"fontSize\": \"100%\",\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 0,\n+        \"y\": 23\n+      },\n+      \"id\": 9,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 1,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"percentage\": false,\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"showHeader\": true,\n+      \"sort\": {\n+        \"col\": 1,\n+        \"desc\": true\n+      },\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"styles\": [\n+        {\n+          \"alias\": \"Time\",\n+          \"align\": \"auto\",\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"pattern\": \"Time\",\n+          \"type\": \"hidden\"\n+        },\n+        {\n+          \"alias\": \"Memory RSS\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"link\": false,\n+          \"linkTargetBlank\": false,\n+          \"linkTooltip\": \"Drill down\",\n+          \"linkUrl\": \"\",\n+          \"pattern\": \"Value #A\",\n+          \"thresholds\": [],\n+          \"type\": \"number\",\n+          \"unit\": \"bytes\"\n+        },\n+        {\n+          \"alias\": \"Deployment\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"deployment_id\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Package\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Version\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_version\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Node Unit\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"node_unit_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"/.*/\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        }\n+      ],\n+      \"targets\": [\n+        {\n+          \"expr\": \"topk(10, sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}))\",\n+          \"format\": \"table\",\n+          \"instant\": true,\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"title\": \"Memory Top 10 (Current)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"transform\": \"table\",\n+      \"type\": \"table-old\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ]\n+    },\n+    {\n+      \"aliasColors\": {},\n+      \"bars\": false,\n+      \"columns\": [],\n+      \"dashLength\": 10,\n+      \"dashes\": false,\n+      \"datasource\": {\n+        \"uid\": \"$datasource\"\n+      },\n+      \"fill\": 1,\n+      \"fontSize\": \"100%\",\n+      \"gridPos\": {\n+        \"h\": 7,\n+        \"w\": 12,\n+        \"x\": 12,\n+        \"y\": 23\n+      },\n+      \"id\": 10,\n+      \"interval\": \"1m\",\n+      \"legend\": {\n+        \"alignAsTable\": true,\n+        \"avg\": false,\n+        \"current\": false,\n+        \"max\": false,\n+        \"min\": false,\n+        \"rightSide\": true,\n+        \"show\": true,\n+        \"total\": false,\n+        \"values\": false\n+      },\n+      \"lines\": true,\n+      \"linewidth\": 1,\n+      \"links\": [],\n+      \"nullPointMode\": \"null as zero\",\n+      \"percentage\": false,\n+      \"pointradius\": 5,\n+      \"points\": false,\n+      \"renderer\": \"flot\",\n+      \"seriesOverrides\": [],\n+      \"showHeader\": true,\n+      \"sort\": {\n+        \"col\": 1,\n+        \"desc\": true\n+      },\n+      \"spaceLength\": 10,\n+      \"stack\": false,\n+      \"steppedLine\": false,\n+      \"styles\": [\n+        {\n+          \"alias\": \"Time\",\n+          \"align\": \"auto\",\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"pattern\": \"Time\",\n+          \"type\": \"hidden\"\n+        },\n+        {\n+          \"alias\": \"Memory Peak (1h)\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"link\": false,\n+          \"linkTargetBlank\": false,\n+          \"linkTooltip\": \"Drill down\",\n+          \"linkUrl\": \"\",\n+          \"pattern\": \"Value #A\",\n+          \"thresholds\": [],\n+          \"type\": \"number\",\n+          \"unit\": \"bytes\"\n+        },\n+        {\n+          \"alias\": \"Deployment\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"deployment_id\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Package\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Version\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"package_version\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"Node Unit\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"node_unit_name\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        },\n+        {\n+          \"alias\": \"\",\n+          \"align\": \"auto\",\n+          \"colors\": [],\n+          \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+          \"decimals\": 2,\n+          \"pattern\": \"/.*/\",\n+          \"thresholds\": [],\n+          \"type\": \"string\",\n+          \"unit\": \"short\"\n+        }\n+      ],\n+      \"targets\": [\n+        {\n+          \"expr\": \"topk(10, max_over_time((sum by (deployment_id, package_name, package_version, node_unit_name) (node_unit_deployment_memory_rss_bytes{node_unit_name=~\\\"$node_unit_name\\\",package_name=~\\\"$package_name\\\",package_version=~\\\"$package_version\\\",deployment_id=~\\\"$deployment_id\\\"}))[1h:]))\",\n+          \"format\": \"table\",\n+          \"instant\": true,\n+          \"intervalFactor\": 2,\n+          \"legendFormat\": \"\",\n+          \"refId\": \"A\",\n+          \"step\": 10\n+        }\n+      ],\n+      \"thresholds\": [],\n+      \"title\": \"Memory Peak 1h (Max)\",\n+      \"tooltip\": {\n+        \"shared\": false,\n+        \"sort\": 2,\n+        \"value_type\": \"individual\"\n+      },\n+      \"transform\": \"table\",\n+      \"type\": \"table-old\",\n+      \"xaxis\": {\n+        \"mode\": \"time\",\n+        \"show\": true,\n+        \"values\": []\n+      },\n+      \"yaxes\": [\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"min\": 0,\n+          \"show\": true\n+        },\n+        {\n+          \"format\": \"short\",\n+          \"logBase\": 1,\n+          \"show\": false\n+        }\n+      ]\n+    }\n+  ],\n+  \"refresh\": \"10s\",\n+  \"schemaVersion\": 38,\n+  \"style\": \"dark\",\n+  \"tags\": [\"node-unit\"],\n+  \"templating\": {\n+    \"list\": [\n+      {\n+        \"current\": {\n+          \"selected\": false,\n+          \"text\": \"Prometheus\",\n+          \"value\": \"Prometheus\"\n+        },\n+        \"hide\": 0,\n+        \"includeAll\": false,\n+        \"label\": \"Data Source\",\n+        \"multi\": false,\n+        \"name\": \"datasource\",\n+        \"options\": [],\n+        \"query\": \"prometheus\",\n+        \"refresh\": 1,\n+        \"regex\": \"\",\n+        \"skipUrlSync\": false,\n+        \"type\": \"datasource\"\n+      },\n+      {\n+        \"allValue\": \".*\",\n+        \"current\": {\n+          \"selected\": true,\n+          \"text\": \"All\",\n+          \"value\": \".*\"\n+        },\n+        \"datasource\": {\n+          \"type\": \"datasource\",\n+          \"uid\": \"$datasource\"\n+        },\n+        \"definition\": \"\",\n+        \"hide\": 0,\n+        \"includeAll\": true,\n+        \"multi\": true,\n+        \"name\": \"node_unit_name\",\n+        \"options\": [],\n+        \"query\": {\n+          \"query\": \"label_values(node_unit_deployment_cpu_seconds_total, node_unit_name)\",\n+          \"refId\": \"prometheus-node-unit-name-Variable-Query\"\n+        },\n+        \"refresh\": 2,\n+        \"regex\": \"\",\n+        \"skipUrlSync\": false,\n+        \"sort\": 1,\n+        \"tagValuesQuery\": \"\",\n+        \"tagsQuery\": \"\",\n+        \"type\": \"query\",\n+        \"useTags\": false\n+      },\n+      {\n+        \"allValue\": \".*\",\n+        \"current\": {\n+          \"selected\": true,\n+          \"text\": \"All\",\n+          \"value\": \".*\"\n+        },\n+        \"datasource\": {\n+          \"type\": \"datasource\",\n+          \"uid\": \"$datasource\"\n+        },\n+        \"definition\": \"\",\n+        \"hide\": 0,\n+        \"includeAll\": true,\n+        \"multi\": true,\n+        \"name\": \"package_name\",\n+        \"options\": [],\n+        \"query\": {\n+          \"query\": \"label_values(node_unit_deployment_cpu_seconds_total, package_name)\",\n+          \"refId\": \"prometheus-package-name-Variable-Query\"\n+        },\n+        \"refresh\": 2,\n+        \"regex\": \"\",\n+        \"skipUrlSync\": false,\n+        \"sort\": 1,\n+        \"tagValuesQuery\": \"\",\n+        \"tagsQuery\": \"\",\n+        \"type\": \"query\",\n+        \"useTags\": false\n+      },\n+      {\n+        \"allValue\": \".*\",\n+        \"current\": {\n+          \"selected\": true,\n+          \"text\": \"All\",\n+          \"value\": \".*\"\n+        },\n+        \"datasource\": {\n+          \"type\": \"datasource\",\n+          \"uid\": \"$datasource\"\n+        },\n+        \"definition\": \"\",\n+        \"hide\": 0,\n+        \"includeAll\": true,\n+        \"multi\": true,\n+        \"name\": \"package_version\",\n+        \"options\": [],\n+        \"query\": {\n+          \"query\": \"label_values(node_unit_deployment_cpu_seconds_total, package_version)\",\n+          \"refId\": \"prometheus-package-version-Variable-Query\"\n+        },\n+        \"refresh\": 2,\n+        \"regex\": \"\",\n+        \"skipUrlSync\": false,\n+        \"sort\": 1,\n+        \"tagValuesQuery\": \"\",\n+        \"tagsQuery\": \"\",\n+        \"type\": \"query\",\n+        \"useTags\": false\n+      },\n+      {\n+        \"allValue\": \".*\",\n+        \"current\": {\n+          \"selected\": true,\n+          \"text\": \"All\",\n+          \"value\": \".*\"\n+        },\n+        \"datasource\": {\n+          \"type\": \"datasource\",\n+          \"uid\": \"$datasource\"\n+        },\n+        \"definition\": \"\",\n+        \"hide\": 0,\n+        \"includeAll\": true,\n+        \"multi\": true,\n+        \"name\": \"deployment_id\",\n+        \"options\": [],\n+        \"query\": {\n+          \"query\": \"label_values(node_unit_deployment_cpu_seconds_total, deployment_id)\",\n+          \"refId\": \"prometheus-deployment-id-Variable-Query\"\n+        },\n+        \"refresh\": 2,\n+        \"regex\": \"\",\n+        \"skipUrlSync\": false,\n+        \"sort\": 1,\n+        \"tagValuesQuery\": \"\",\n+        \"tagsQuery\": \"\",\n+        \"type\": \"query\",\n+        \"useTags\": false\n+      }\n+    ]\n+  },\n+  \"time\": {\n+    \"from\": \"now-5m\",\n+    \"to\": \"now\"\n+  },\n+  \"timepicker\": {\n+    \"refresh_intervals\": [\"5s\", \"10s\", \"30s\", \"1m\", \"5m\", \"15m\", \"30m\", \"1h\", \"2h\", \"1d\"],\n+    \"time_options\": [\"5m\", \"15m\", \"1h\", \"6h\", \"12h\", \"24h\", \"2d\", \"7d\", \"30d\"]\n+  },\n+  \"timezone\": \"UTC\",\n+  \"title\": \"Node Unit / Deployment Resources\",\n+  \"uid\": \"nodeunit-deployment-resources\",\n+  \"version\": 1,\n+  \"weekStart\": \"\"\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 19,
          "deletions": 4,
          "path": "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "changeType": "modified",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/apps/vendor-hyperliquid/SESSION_NOTES.md b/apps/vendor-hyperliquid/SESSION_NOTES.md\nindex bc090edd4..e49c271c8 100644\n--- a/apps/vendor-hyperliquid/SESSION_NOTES.md\n+++ b/apps/vendor-hyperliquid/SESSION_NOTES.md\n@@ -10,2 +10,2 @@\n-- **æœ€è¿‘æ›´æ–°æ—¶é—´**ï¼š2025-12-26 15:30ï¼ˆç”± Codex Agent æ›´æ–°ï¼Œæ¥å…¥ REST/IP tokenBucket ä¸»åŠ¨é™æµï¼‰\n-- **å½“å‰çŠ¶æ€æ ‡ç­¾**ï¼šå·²æ¥å…¥ REST/IP ä¸»åŠ¨é™æµï¼ˆç­‰å¾…çº¿ä¸ŠéªŒè¯ä¸è§‚æµ‹å¢å¼ºï¼‰\n+- **æœ€è¿‘æ›´æ–°æ—¶é—´**ï¼š2026-01-14 10:45ï¼ˆç”± Codex Agent æ›´æ–°ï¼Œæš‚æ—¶æ³¨é‡Šå“åº”å tokenBucket è°ƒç”¨ï¼‰\n+- **å½“å‰çŠ¶æ€æ ‡ç­¾**ï¼šREST/IP ä¸»åŠ¨é™æµå·²æ¥å…¥ï¼ˆå“åº”åæ‰£å‡æ³¨é‡Šï¼‰\n@@ -50,0 +51 @@\n+- 2026-01-14ï¼šæš‚æ—¶æ³¨é‡Š REST è¯·æ±‚å“åº”åçš„ tokenBucket è°ƒç”¨ï¼ˆ`afterRestResponse` è°ƒç”¨è¢«æ³¨é‡Šï¼‰ï¼Œä»…ä¿ç•™è¯·æ±‚å‰é™æµã€‚\n@@ -162 +163,2 @@\n-- **[D8] æ¥å…¥ Hyperliquid REST/IP ä¸»åŠ¨é™æµï¼ˆ2025-12-26ï¼‰**\n+- **[D8] æ¥å…¥ Hyperliquid REST/IP ä¸»åŠ¨é™æµï¼ˆ2025-12-26ï¼Œ2026-01-14 è°ƒæ•´ï¼‰**\n+\n@@ -167 +169 @@\n-    - `candleSnapshot` çš„é¢å¤– weight æŒ‰å®˜æ–¹â€œæœ€å¤š 5000 æ ¹ candlesâ€åšæœ‰ç•Œä¼°ç®—ï¼›å“åº”åæŒ‰è¿”å›æ¡æ•°è®¡ç®— `deltaWeight` å¹¶ç”¨ `await tokenBucket(...).acquire(deltaWeight)` é˜»å¡ç­‰å¾…ï¼ˆä¸ä½¿ç”¨ acquireSyncï¼Œé¿å…å“åº”åå› ä»¤ç‰Œä¸è¶³æŠ¥é”™ï¼‰ã€‚\n+    - `candleSnapshot` çš„é¢å¤– weight æŒ‰å®˜æ–¹â€œæœ€å¤š 5000 æ ¹ candlesâ€åšæœ‰ç•Œä¼°ç®—ï¼›å“åº”åçš„ tokenBucket è¿½åŠ æ‰£å‡é€»è¾‘ä»ä¿ç•™ï¼Œä½†è°ƒç”¨æš‚æ—¶æ³¨é‡Šï¼ˆ2026-01-14 èµ·ä»…è¯·æ±‚å‰é™æµï¼‰ã€‚\n@@ -199,0 +202,13 @@\n+### 2026-01-14 â€” Codex\n+\n+- **æœ¬è½®æ‘˜è¦**ï¼š\n+  - æš‚æ—¶æ³¨é‡Š REST å“åº”åçš„ tokenBucket è°ƒç”¨ï¼Œä»…ä¿ç•™è¯·æ±‚å‰ä¸»åŠ¨é™æµã€‚\n+- **ä¿®æ”¹çš„æ–‡ä»¶**ï¼š\n+  - `apps/vendor-hyperliquid/src/api/rate-limit.ts`\n+  - `apps/vendor-hyperliquid/src/api/client.ts`\n+  - `apps/vendor-hyperliquid/src/api/rate-limit.test.ts`\n+  - `apps/vendor-hyperliquid/SESSION_NOTES.md`\n+- **è¿è¡Œçš„æµ‹è¯• / æ£€æŸ¥**ï¼š\n+  - å‘½ä»¤ï¼š`npx tsc --noEmit --project apps/vendor-hyperliquid/tsconfig.json`\n+  - ç»“æœï¼šå¤±è´¥ï¼ˆæç¤ºæœªå®‰è£… TypeScriptï¼Œå¯æ”¹ç”¨ `./node_modules/.bin/tsc` æˆ–å…ˆå®‰è£…ä¾èµ–ï¼‰\n+\n",
          "codeSnippets": []
        },
        {
          "additions": 16,
          "deletions": 14,
          "path": "apps/vendor-hyperliquid/src/api/client.ts",
          "changeType": "modified",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/apps/vendor-hyperliquid/src/api/client.ts b/apps/vendor-hyperliquid/src/api/client.ts\nindex bf895e6ce..24086349d 100644\n--- a/apps/vendor-hyperliquid/src/api/client.ts\n+++ b/apps/vendor-hyperliquid/src/api/client.ts\n@@ -4,0 +5,2 @@ import { afterRestResponse, beforeRestRequest, getRestRequestContext } from './r\n+void afterRestResponse;\n+\n@@ -37 +39 @@ const callApi = async (method: HttpMethod, path: string, params?: any) => {\n-  const { estimatedExtraWeight } = beforeRestRequest(\n+  beforeRestRequest(\n@@ -71,13 +73,13 @@ const callApi = async (method: HttpMethod, path: string, params?: any) => {\n-    await afterRestResponse(\n-      {\n-        method,\n-        url: url.href,\n-        path,\n-        kind: requestContext.kind,\n-        infoType: requestContext.infoType,\n-        requestKey,\n-      },\n-      requestContext,\n-      response,\n-      estimatedExtraWeight,\n-    );\n+    // await afterRestResponse(\n+    //   {\n+    //     method,\n+    //     url: url.href,\n+    //     path,\n+    //     kind: requestContext.kind,\n+    //     infoType: requestContext.infoType,\n+    //     requestKey,\n+    //   },\n+    //   requestContext,\n+    //   response,\n+    //   estimatedExtraWeight,\n+    // );\n",
          "codeSnippets": []
        },
        {
          "additions": 10,
          "deletions": 0,
          "path": "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/common/changes/@yuants/node-unit/2026-01-14-09-03.json b/common/changes/@yuants/node-unit/2026-01-14-09-03.json\nnew file mode 100644\nindex 000000000..dea001304\n--- /dev/null\n+++ b/common/changes/@yuants/node-unit/2026-01-14-09-03.json\n@@ -0,0 +1,10 @@\n+{\n+  \"changes\": [\n+    {\n+      \"packageName\": \"@yuants/node-unit\",\n+      \"comment\": \"add grafana dashboard\",\n+      \"type\": \"patch\"\n+    }\n+  ],\n+  \"packageName\": \"@yuants/node-unit\"\n+}\n\\ No newline at end of file\n",
          "codeSnippets": []
        },
        {
          "additions": 10,
          "deletions": 0,
          "path": "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          "changeType": "added",
          "patch": "commit 83608ad3ae66da7d65a4e0cf71b13322a6f06680\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 17:09:01 2026 +0800\n\n    feat(node-unit): add grafana dashboard for monitoring node unit resources (#2502)\n    \n    fix(vendor-hyperliquid): disable token limit after response to improve API handling\n    \n    chore: update session notes for vendor-hyperliquid changes and testing results\n\ndiff --git a/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json b/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json\nnew file mode 100644\nindex 000000000..5153cc145\n--- /dev/null\n+++ b/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json\n@@ -0,0 +1,10 @@\n+{\n+  \"changes\": [\n+    {\n+      \"packageName\": \"@yuants/vendor-hyperliquid\",\n+      \"comment\": \"disable token limit after response\",\n+      \"type\": \"patch\"\n+    }\n+  ],\n+  \"packageName\": \"@yuants/vendor-hyperliquid\"\n+}\n\\ No newline at end of file\n",
          "codeSnippets": []
        }
      ]
    },
    {
      "hash": "1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7",
      "short": "1fa5442e1",
      "author": "humblelittlec1[bot]",
      "email": "208195530+humblelittlec1[bot]@users.noreply.github.com",
      "authoredAt": "2026-01-14 17:10:56 +0800",
      "subject": "chore: bump version (#2503)",
      "conventionalCommit": {
        "type": "chore",
        "scope": null,
        "breaking": false
      },
      "files": [
        {
          "additions": 17,
          "deletions": 0,
          "path": "apps/node-unit/CHANGELOG.json",
          "changeType": "added",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/node-unit/CHANGELOG.json b/apps/node-unit/CHANGELOG.json\nindex 92b112720..98e42d59f 100644\n--- a/apps/node-unit/CHANGELOG.json\n+++ b/apps/node-unit/CHANGELOG.json\n@@ -3,0 +4,17 @@\n+    {\n+      \"version\": \"0.13.11\",\n+      \"tag\": \"@yuants/node-unit_v0.13.11\",\n+      \"date\": \"Wed, 14 Jan 2026 09:10:04 GMT\",\n+      \"comments\": {\n+        \"patch\": [\n+          {\n+            \"comment\": \"add grafana dashboard\"\n+          }\n+        ],\n+        \"none\": [\n+          {\n+            \"comment\": \"Bump Version\"\n+          }\n+        ]\n+      }\n+    },\n",
          "codeSnippets": []
        },
        {
          "additions": 8,
          "deletions": 1,
          "path": "apps/node-unit/CHANGELOG.md",
          "changeType": "modified",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/node-unit/CHANGELOG.md b/apps/node-unit/CHANGELOG.md\nindex 7bd35ad19..b2a825cf8 100644\n--- a/apps/node-unit/CHANGELOG.md\n+++ b/apps/node-unit/CHANGELOG.md\n@@ -3 +3,8 @@\n-This log was last generated on Tue, 06 Jan 2026 17:23:41 GMT and should not be manually modified.\n+This log was last generated on Wed, 14 Jan 2026 09:10:04 GMT and should not be manually modified.\n+\n+## 0.13.11\n+Wed, 14 Jan 2026 09:10:04 GMT\n+\n+### Patches\n+\n+- add grafana dashboard\n",
          "codeSnippets": []
        },
        {
          "additions": 1,
          "deletions": 1,
          "path": "apps/node-unit/package.json",
          "changeType": "modified",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/node-unit/package.json b/apps/node-unit/package.json\nindex 874f77ae8..1cf0ae1c3 100644\n--- a/apps/node-unit/package.json\n+++ b/apps/node-unit/package.json\n@@ -3 +3 @@\n-  \"version\": \"0.13.10\",\n+  \"version\": \"0.13.11\",\n",
          "codeSnippets": []
        },
        {
          "additions": 17,
          "deletions": 0,
          "path": "apps/vendor-hyperliquid/CHANGELOG.json",
          "changeType": "added",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/vendor-hyperliquid/CHANGELOG.json b/apps/vendor-hyperliquid/CHANGELOG.json\nindex 697a8b45d..77b18806c 100644\n--- a/apps/vendor-hyperliquid/CHANGELOG.json\n+++ b/apps/vendor-hyperliquid/CHANGELOG.json\n@@ -3,0 +4,17 @@\n+    {\n+      \"version\": \"0.10.5\",\n+      \"tag\": \"@yuants/vendor-hyperliquid_v0.10.5\",\n+      \"date\": \"Wed, 14 Jan 2026 09:10:04 GMT\",\n+      \"comments\": {\n+        \"patch\": [\n+          {\n+            \"comment\": \"disable token limit after response\"\n+          }\n+        ],\n+        \"none\": [\n+          {\n+            \"comment\": \"Bump Version\"\n+          }\n+        ]\n+      }\n+    },\n",
          "codeSnippets": []
        },
        {
          "additions": 8,
          "deletions": 1,
          "path": "apps/vendor-hyperliquid/CHANGELOG.md",
          "changeType": "modified",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/vendor-hyperliquid/CHANGELOG.md b/apps/vendor-hyperliquid/CHANGELOG.md\nindex 66aa38362..c87333756 100644\n--- a/apps/vendor-hyperliquid/CHANGELOG.md\n+++ b/apps/vendor-hyperliquid/CHANGELOG.md\n@@ -3 +3,8 @@\n-This log was last generated on Tue, 13 Jan 2026 10:53:40 GMT and should not be manually modified.\n+This log was last generated on Wed, 14 Jan 2026 09:10:04 GMT and should not be manually modified.\n+\n+## 0.10.5\n+Wed, 14 Jan 2026 09:10:04 GMT\n+\n+### Patches\n+\n+- disable token limit after response\n",
          "codeSnippets": []
        },
        {
          "additions": 1,
          "deletions": 1,
          "path": "apps/vendor-hyperliquid/package.json",
          "changeType": "modified",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/apps/vendor-hyperliquid/package.json b/apps/vendor-hyperliquid/package.json\nindex b5e4e819f..0ecf6ecb3 100644\n--- a/apps/vendor-hyperliquid/package.json\n+++ b/apps/vendor-hyperliquid/package.json\n@@ -3 +3 @@\n-  \"version\": \"0.10.4\",\n+  \"version\": \"0.10.5\",\n",
          "codeSnippets": []
        },
        {
          "additions": 0,
          "deletions": 10,
          "path": "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "changeType": "deleted",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/common/changes/@yuants/node-unit/2026-01-14-09-03.json b/common/changes/@yuants/node-unit/2026-01-14-09-03.json\ndeleted file mode 100644\nindex dea001304..000000000\n--- a/common/changes/@yuants/node-unit/2026-01-14-09-03.json\n+++ /dev/null\n@@ -1,10 +0,0 @@\n-{\n-  \"changes\": [\n-    {\n-      \"packageName\": \"@yuants/node-unit\",\n-      \"comment\": \"add grafana dashboard\",\n-      \"type\": \"patch\"\n-    }\n-  ],\n-  \"packageName\": \"@yuants/node-unit\"\n-}\n\\ No newline at end of file\n",
          "codeSnippets": []
        },
        {
          "additions": 0,
          "deletions": 0,
          "path": "common/changes/@yuants/node-unit/{main_2026-01-06-17-24.json => main_2026-01-14-09-10.json}",
          "changeType": "renamed",
          "patch": "",
          "codeSnippets": []
        },
        {
          "additions": 0,
          "deletions": 10,
          "path": "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          "changeType": "deleted",
          "patch": "commit 1fa5442e1820450f54887fbdeae8f8b3e5ee0ad7\nAuthor: humblelittlec1[bot] <208195530+humblelittlec1[bot]@users.noreply.github.com>\nDate:   Wed Jan 14 17:10:56 2026 +0800\n\n    chore: bump version (#2503)\n    \n    Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\n\ndiff --git a/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json b/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json\ndeleted file mode 100644\nindex 5153cc145..000000000\n--- a/common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json\n+++ /dev/null\n@@ -1,10 +0,0 @@\n-{\n-  \"changes\": [\n-    {\n-      \"packageName\": \"@yuants/vendor-hyperliquid\",\n-      \"comment\": \"disable token limit after response\",\n-      \"type\": \"patch\"\n-    }\n-  ],\n-  \"packageName\": \"@yuants/vendor-hyperliquid\"\n-}\n\\ No newline at end of file\n",
          "codeSnippets": []
        },
        {
          "additions": 0,
          "deletions": 0,
          "path": "common/changes/@yuants/vendor-hyperliquid/{main_2026-01-13-10-53.json => main_2026-01-14-09-10.json}",
          "changeType": "renamed",
          "patch": "",
          "codeSnippets": []
        }
      ]
    },
    {
      "hash": "0098f6b84ab80aaefa53a97d418588c70759176a",
      "short": "0098f6b84",
      "author": "Siyuan Wang",
      "email": "c.one@thrimbda.com",
      "authoredAt": "2026-01-14 22:53:05 +0800",
      "subject": "feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)",
      "conventionalCommit": {
        "type": "feat",
        "scope": "app-asg-eventbridge-notifier",
        "breaking": false
      },
      "files": [
        {
          "additions": 68,
          "deletions": 3,
          "path": ".legion/config.json",
          "changeType": "modified",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/.legion/config.json b/.legion/config.json\nindex 91db46994..8a6e40efe 100644\n--- a/.legion/config.json\n+++ b/.legion/config.json\n@@ -113 +113 @@\n-      \"updatedAt\": \"2026-01-07T11:03:38.061Z\"\n+      \"updatedAt\": \"2026-01-14T08:47:24.074Z\"\n@@ -132 +132 @@\n-      \"status\": \"active\",\n+      \"status\": \"paused\",\n@@ -134 +134,15 @@\n-      \"updatedAt\": \"2026-01-07T09:35:13.640Z\"\n+      \"updatedAt\": \"2026-01-12T06:01:13.507Z\"\n+    },\n+    {\n+      \"id\": \"node-unit-deployment-grafana-dashboard\",\n+      \"name\": \"node-unit-deployment-grafana-dashboard\",\n+      \"status\": \"paused\",\n+      \"createdAt\": \"2026-01-12T06:01:13.507Z\",\n+      \"updatedAt\": \"2026-01-13T06:01:55.209Z\"\n+    },\n+    {\n+      \"id\": \"app-asg-eventbridge-notifier\",\n+      \"name\": \"app-asg-eventbridge-notifier\",\n+      \"status\": \"paused\",\n+      \"createdAt\": \"2026-01-13T02:19:46.029Z\",\n+      \"updatedAt\": \"2026-01-14T08:39:20.222Z\"\n@@ -1469,0 +1484,51 @@\n+    },\n+    {\n+      \"id\": \"proposal-mkar337v-aba685\",\n+      \"name\": \"node-unit-deployment-grafana-dashboard\",\n+      \"goal\": \"åŸºäº node_unit_deployment_cpu_seconds_total ä¸ node_unit_deployment_memory_rss_bytes æ–°å»º Grafana dashboardï¼Œå¹¶æ²¿ç”¨ç°æœ‰ dashboard.json çš„é£æ ¼ä¸å˜é‡é…ç½®ã€‚\",\n+      \"rationale\": \"ç”¨æˆ·è¦æ±‚å‚è€ƒç°æœ‰ dashboard.json ä¸º node-unit éƒ¨ç½²æŒ‡æ ‡æ–°å¢ Grafana dashboardï¼Œéœ€è¦è°ƒç ”ç°æœ‰é¢æ¿ç»“æ„ä¸æŒ‡æ ‡ labelï¼Œå¹¶è¾“å‡ºå¯ç›´æ¥å¯¼å…¥çš„ JSON æ–‡ä»¶ã€‚\",\n+      \"points\": [\n+        \"å¤ç”¨ `.c1-cellar/dashboard.json` çš„å˜é‡ã€æ ·å¼ä¸å…¨å±€è®¾ç½®ï¼Œä¿æŒä¸€è‡´çš„å±•ç¤ºè¯­è¨€\",\n+        \"å›´ç»• CPU/Memory æŒ‡æ ‡è®¾è®¡å…³é”®è§†å›¾ï¼šæ€»é‡ã€æŒ‰ deployment/instance çš„ TopNã€è¶‹åŠ¿ä¸åˆ†ä½/æå€¼\",\n+        \"æ˜ç¡®æŒ‡æ ‡æ ‡ç­¾é€‰æ‹©ï¼ˆå¦‚ deploymentã€instanceã€namespace ç­‰ï¼‰å¹¶ç»™å‡ºç»Ÿä¸€è¿‡æ»¤å˜é‡\",\n+        \"è¾“å‡ºæ–°çš„ dashboard JSON æ–‡ä»¶ï¼Œæ³¨æ˜å¯¼å…¥æ–¹å¼ä¸ä¾èµ–çš„æ•°æ®æºå\"\n+      ],\n+      \"scope\": [\n+        \".c1-cellar/dashboard.jsonï¼ˆä»…å‚è€ƒï¼‰\",\n+        \".c1-cellar/dashboard-node-unit-deployment.jsonï¼ˆæ–°æ–‡ä»¶ï¼‰\"\n+      ],\n+      \"phases\": [\n+        {\n+          \"name\": \"è°ƒç ”\",\n+          \"tasks\": [\n+            {\n+              \"description\": \"é˜…è¯» `.c1-cellar/dashboard.json`ï¼Œæ•´ç†ç°æœ‰å˜é‡ã€é¢æ¿é£æ ¼ä¸æ•°æ®æºå‘½åè§„åˆ™ï¼›åŒæ—¶ç¡®è®¤ä¸¤æ¡æŒ‡æ ‡çš„ label ç»“æ„ï¼ˆé€šè¿‡ä»“åº“é…ç½®æˆ–å·²æœ‰æŸ¥è¯¢è§„åˆ™æ¨æ–­ï¼‰ã€‚\",\n+              \"acceptance\": \"context.md è®°å½•å˜é‡åˆ—è¡¨ã€datasource åç§°ã€æ—¶é—´èŒƒå›´/åˆ·æ–°è®¾ç½®ï¼Œä»¥åŠ node_unit æŒ‡æ ‡çš„ label å‡è®¾ä¸ä¸ç¡®å®šç‚¹ã€‚\"\n+            }\n+          ]\n+        },\n+        {\n+          \"name\": \"è®¾è®¡\",\n+          \"tasks\": [\n+            {\n+              \"description\": \"è®¾è®¡é¢æ¿åˆ—è¡¨ä¸æŸ¥è¯¢ï¼šCPU rate/åˆ©ç”¨ç‡ã€memory RSSã€æŒ‰ deployment/instance TopNã€è¶‹åŠ¿ä¸ç»Ÿè®¡ï¼ˆå¦‚ avg/maxï¼‰ã€‚\",\n+              \"acceptance\": \"plan.md æ˜ç¡®æ¯ä¸ªé¢æ¿çš„æ ‡é¢˜ã€PromQLã€legend ä¸å•ä½/é˜ˆå€¼ã€‚\"\n+            }\n+          ]\n+        },\n+        {\n+          \"name\": \"å®ç°\",\n+          \"tasks\": [\n+            {\n+              \"description\": \"åŸºäºç°æœ‰ dashboard.json å¤åˆ¶å¹¶ç”Ÿæˆæ–°çš„ dashboard JSONï¼Œæ›¿æ¢ä¸º node_unit_deployment æŒ‡æ ‡é¢æ¿ã€‚\",\n+              \"acceptance\": \"æ–° JSON å¯å¯¼å…¥ Grafanaï¼›å˜é‡ä¸é¢æ¿å¯æ­£å¸¸æ¸²æŸ“ï¼ˆPromQL/å•ä½/legend åˆç†ï¼‰ã€‚\"\n+            }\n+          ]\n+        }\n+      ],\n+      \"proposedBy\": \"Claude\",\n+      \"proposedAt\": \"2026-01-12T05:56:52.364Z\",\n+      \"status\": \"approved\",\n+      \"decidedAt\": \"2026-01-12T06:01:13.507Z\",\n+      \"decidedBy\": \"Claude\",\n+      \"createdTaskId\": \"node-unit-deployment-grafana-dashboard\"\n",
          "codeSnippets": []
        },
        {
          "additions": 39,
          "deletions": 0,
          "path": ".legion/ledger.csv",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/.legion/ledger.csv b/.legion/ledger.csv\nindex 37651ee6a..55a68500b 100644\n--- a/.legion/ledger.csv\n+++ b/.legion/ledger.csv\n@@ -731,0 +732,39 @@\n+2026-01-11T05:50:57.582Z,legion_init,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,workingDirectory: /Users/c1/Work/Yuan,success\n+2026-01-11T05:51:00.576Z,legion_get_status,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,,success\n+2026-01-11T05:51:05.560Z,legion_switch_task,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,taskId: ohlc-ohlc-v2,success\n+2026-01-11T05:51:09.272Z,legion_read_context,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,\"section: all, includeReviews: true\",success\n+2026-01-11T05:52:15.278Z,legion_update_context,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,addFile: .c1-cellar/migrate-ohlc-myquant.js,success\n+2026-01-11T05:54:27.406Z,legion_update_context,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,progress.completed: ä¼˜åŒ– .c1-cellar/migrate-ohlc-myquant.jsï¼šæ”¹ä¸ºå•æ¡ CTE SQL æ‰¹å¤„ç†ï¼Œé¿å…æ‹‰å– 5000 è¡Œåˆ° JS å†æ‹¼æ¥æ’å…¥ã€‚,success\n+2026-01-11T06:07:19.032Z,legion_update_context,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,progress.completed: è¿ç§»è„šæœ¬æ”¹ç”¨ postgresjsï¼ˆpostgreSQL.jsï¼‰è¿æ¥æ–¹å¼ï¼Œæ›¿æ¢ pg/pg-connection-stringã€‚,success\n+2026-01-12T05:56:20.522Z,legion_init,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,workingDirectory: /Users/c1/Work/Yuan,success\n+2026-01-12T05:56:24.294Z,legion_get_status,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,,success\n+2026-01-12T05:56:29.184Z,legion_read_context,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,\"section: all, includeReviews: true\",success\n+2026-01-12T05:56:52.366Z,legion_propose_task,ohlc-ohlc-v2,ç§»é™¤æ—§ ohlc è¡¨å¼•ç”¨å¹¶åˆ‡æ¢åˆ° ohlc_v2,Claude,name: node-unit-deployment-grafana-dashboard,success\n+2026-01-12T06:01:13.545Z,legion_approve_proposal,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,proposalId: proposal-mkar337v-aba685,success\n+2026-01-12T06:01:17.073Z,legion_switch_task,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,taskId: node-unit-deployment-grafana-dashboard,success\n+2026-01-12T06:01:21.178Z,legion_read_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,\"section: all, includeReviews: true\",success\n+2026-01-12T06:04:26.441Z,legion_update_tasks,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,completeTask: phase 1,success\n+2026-01-12T06:05:00.852Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,addFile: .c1-cellar/dashboard.json,success\n+2026-01-12T06:05:04.614Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,addFile: apps/node-unit/monitoring.md,success\n+2026-01-12T06:05:09.414Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,addFile: apps/node-unit/src/index.ts,success\n+2026-01-12T06:05:38.472Z,legion_update_tasks,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,completeTask: phase 2,success\n+2026-01-12T06:09:47.905Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,addFile: .c1-cellar/dashboard-node-unit-deployment.json,success\n+2026-01-12T06:10:09.480Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,handoff: åœ¨ Grafana ä¸­å¯¼å…¥ `.c1-cellar/dashboard-node-unit-deployment.json` å¹¶ç¡®è®¤æ•°æ®æºåç§°ä¸å˜é‡èƒ½æ­£å¸¸è§£æã€‚,success\n+2026-01-13T06:01:55.237Z,legion_update_context,node-unit-deployment-grafana-dashboard,node-unit-deployment-grafana-dashboard,Claude,progress.completed: è°ƒæ•´ CPU Rate by Deployment é¢æ¿çš„ legendï¼Œè¿½åŠ  package_name ä»¥ä¾¿è¯†åˆ«æ¥æºã€‚,success\n+2026-01-13T06:54:04.904Z,legion_list_reviews,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,,success\n+2026-01-13T06:55:16.105Z,legion_respond_review,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,\"file: plan.md, reviewId: R1, status: resolved\",success\n+2026-01-13T06:55:17.585Z,legion_respond_review,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,\"file: plan.md, reviewId: R2, status: resolved\",success\n+2026-01-13T06:55:21.881Z,legion_update_context,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,addDecision: å‘Šè­¦ç›®æ ‡å›ºå®šä¸º Feishuï¼Œé€šè¿‡ `apps/feishu-notifier` çš„ `Feishu/SendMessage` å‘é€ï¼Œæ¶ˆæ¯å¡ç‰‡å‚è€ƒ `apps/alert-receiver`ï¼Œä¸æ–°å¢é…ç½®é¡¹ã€‚,success\n+2026-01-13T07:33:00.650Z,legion_update_tasks,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,completeTask: phase 1,success\n+2026-01-13T07:33:31.171Z,legion_update_context,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,progress.completed: å®Œæˆè®¾è®¡ review å¹¶ä¿®è®¢ planï¼šå›ºå®š Feishu ç›®æ ‡ã€é•¿æœŸè¿è¡Œæ¨¡å¼ã€è¡¥å…… detail-type ä¸æ¶ˆæ¯å­—æ®µã€‚,success\n+2026-01-13T07:39:50.089Z,legion_update_tasks,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,setCurrentTask: phase 3,success\n+2026-01-13T07:40:14.613Z,legion_update_tasks,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,completeTask: phase 3,success\n+2026-01-13T07:40:50.564Z,legion_update_context,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,addFile: apps/asg-eventbridge-notifier/src/index.ts,success\n+2026-01-13T07:41:17.579Z,legion_update_context,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,handoff: ç¡®è®¤ä¾èµ–å®‰è£…åé‡è¯• `rushx build`ï¼ˆapps/asg-eventbridge-notifierï¼‰,success\n+2026-01-14T08:39:14.593Z,legion_get_status,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,,success\n+2026-01-14T08:39:18.038Z,legion_list_tasks,app-asg-eventbridge-notifier,app-asg-eventbridge-notifier,Claude,,success\n+2026-01-14T08:39:20.225Z,legion_switch_task,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,taskId: hyperliquid-api-tokenbucket,success\n+2026-01-14T08:39:22.070Z,legion_read_context,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,\"section: all, includeReviews: true\",success\n+2026-01-14T08:42:29.821Z,legion_update_context,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,addDecision: æš‚æ—¶ç§»é™¤ REST å“åº”å tokenBucket æ‰£å‡ï¼ˆ`afterRestResponse` ä¸å†è§¦å‘ acquireï¼‰,success\n+2026-01-14T08:42:55.444Z,legion_update_context,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,handoff: ç¡®ä¿ä¾èµ–å®‰è£…åå†è¿è¡Œ `npx tsc --noEmit --project apps/vendor-hyperliquid/tsconfig.json`ã€‚,success\n+2026-01-14T08:47:24.076Z,legion_update_context,hyperliquid-api-tokenbucket,Hyperliquid API tokenBucketï¼šæŒ‰å®˜æ–¹é™é¢ä¸»åŠ¨é™æµ,Claude,addDecision: æš‚æ—¶æ³¨é‡Š `afterRestResponse` è°ƒç”¨ï¼Œä¿ç•™å“åº”åé™æµå®ç°ä½†ä¸å¯ç”¨,success\n",
          "codeSnippets": []
        },
        {
          "additions": 51,
          "deletions": 0,
          "path": ".legion/tasks/app-asg-eventbridge-notifier/context.md",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/.legion/tasks/app-asg-eventbridge-notifier/context.md b/.legion/tasks/app-asg-eventbridge-notifier/context.md\nnew file mode 100644\nindex 000000000..ca24b72df\n--- /dev/null\n+++ b/.legion/tasks/app-asg-eventbridge-notifier/context.md\n@@ -0,0 +1,51 @@\n+# app-asg-eventbridge-notifier - ä¸Šä¸‹æ–‡\n+\n+## ä¼šè¯è¿›å±• (2026-01-13)\n+\n+### âœ… å·²å®Œæˆ\n+\n+- åˆ›å»ºä»»åŠ¡ `app-asg-eventbridge-notifier` å¹¶è½ç›˜ plan/tasks/contextï¼Œå°šæœªå¼€å§‹å®ç°ã€‚\n+- å®Œæˆè®¾è®¡ review å¹¶ä¿®è®¢ planï¼šå›ºå®š Feishu ç›®æ ‡ã€é•¿æœŸè¿è¡Œæ¨¡å¼ã€è¡¥å…… detail-type ä¸æ¶ˆæ¯å­—æ®µã€‚\n+- åˆ›å»º `apps/asg-eventbridge-notifier` åŸºç¡€å·¥ç¨‹ï¼ˆpackage/config/tsconfigï¼‰ã€‚\n+- å®ç° EventBridge äº‹ä»¶å¤„ç†ä¸é£ä¹¦å¡ç‰‡æ ¼å¼åŒ–ï¼Œå¹¶é€šè¿‡ `Feishu/SendMessage` è·¯ç”±åˆ° feishu-notifierã€‚\n+- åœ¨ `rush.json` æ³¨å†Œæ–° appã€‚\n+\n+### ğŸŸ¡ è¿›è¡Œä¸­\n+\n+- å¾…æ‰§è¡Œæœ€å°æ„å»º/ç±»å‹æ£€æŸ¥éªŒè¯ã€‚\n+\n+### âš ï¸ é˜»å¡/å¾…å®š\n+\n+- æ„å»ºå¤±è´¥ï¼š`heft` å‘½ä»¤æœªæ‰¾åˆ°ï¼ˆå¯èƒ½æœªå®‰è£…ä¾èµ–æˆ–æœªæ‰§è¡Œ rush/pnpm å®‰è£…ï¼‰ã€‚\n+\n+---\n+\n+## å…³é”®æ–‡ä»¶\n+\n+- `.legion/tasks/app-asg-eventbridge-notifier/plan.md`\n+- `.legion/tasks/app-asg-eventbridge-notifier/tasks.md`\n+\n+---\n+\n+## å…³é”®å†³ç­–\n+\n+| å†³ç­–                                                                                                                                | åŸå›                                                              | æ›¿ä»£æ–¹æ¡ˆ                             | æ—¥æœŸ       |\n+| ----------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------- | ------------------------------------ | ---------- |\n+| å‘Šè­¦ç›®æ ‡å›ºå®šä¸º Feishuï¼Œé€šè¿‡ `apps/feishu-notifier` çš„ `Feishu/SendMessage` å‘é€ï¼Œæ¶ˆæ¯å¡ç‰‡å‚è€ƒ `apps/alert-receiver`ï¼Œä¸æ–°å¢é…ç½®é¡¹ã€‚ | ç”¨æˆ· review æ˜ç¡®è¦æ±‚å›ºå®š Feishu ä¸”å¤ç”¨ alert-receiver å¡ç‰‡ç»“æ„ã€‚ | æ”¯æŒ SNS/Chatbot/Lambda ä½œä¸ºå¯é€‰ç›®æ ‡ | 2026-01-13 |\n+\n+---\n+\n+## å¿«é€Ÿäº¤æ¥\n+\n+**ä¸‹æ¬¡ç»§ç»­ä»è¿™é‡Œå¼€å§‹ï¼š**\n+\n+1. ç¡®è®¤ä¾èµ–å®‰è£…åé‡è¯• `rushx build`ï¼ˆapps/asg-eventbridge-notifierï¼‰\n+2. è¡¥å…… EventBridge äº‹ä»¶æ ·æœ¬ï¼Œç¡®è®¤ Cause å­—æ®µæ ¼å¼\n+\n+**æ³¨æ„äº‹é¡¹ï¼š**\n+\n+- å½“å‰ build å¤±è´¥åŸå› ï¼šheft command not foundã€‚\n+\n+---\n+\n+_æœ€åæ›´æ–°: 2026-01-13 15:41 by Claude_\n",
          "codeSnippets": []
        },
        {
          "additions": 94,
          "deletions": 0,
          "path": ".legion/tasks/app-asg-eventbridge-notifier/plan.md",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/.legion/tasks/app-asg-eventbridge-notifier/plan.md b/.legion/tasks/app-asg-eventbridge-notifier/plan.md\nnew file mode 100644\nindex 000000000..37633c2ed\n--- /dev/null\n+++ b/.legion/tasks/app-asg-eventbridge-notifier/plan.md\n@@ -0,0 +1,94 @@\n+# app-asg-eventbridge-notifier\n+\n+## ç›®æ ‡\n+\n+æ–°å¢ä¸€ä¸ªç”¨äº ASG ç»ˆæ­¢äº‹ä»¶å‘Šè­¦çš„åº”ç”¨ï¼ˆå‚è€ƒ `apps/feishu-notifier` çš„å·¥ç¨‹ç»“æ„ï¼‰ï¼Œä»¥é•¿æœŸè¿è¡Œçš„ Node app æ–¹å¼æ¥æ”¶ EventBridge çš„ Auto Scaling äº‹ä»¶å¹¶æŒ‰è§„åˆ™æ¨é€åˆ° Feishuï¼Œæ”¯æŒä»…åœ¨ `status checks failure` åœºæ™¯è§¦å‘ã€‚\n+\n+## è¦ç‚¹\n+\n+- æ–°å¢åº”ç”¨ç›®å½• `apps/asg-eventbridge-notifier`ï¼Œéµå¾ªç°æœ‰ app çš„ package/tsconfig/rig ç»“æ„ã€‚\n+- è§£æ EventBridge äº‹ä»¶ï¼ˆ`source=aws.autoscaling`ã€ç»ˆæ­¢ç±» `detail-type`ï¼‰ï¼Œè¿‡æ»¤ ASG åç§°å¹¶å¯é€‰åŸºäº `detail.Cause` è¿›è¡ŒäºŒæ¬¡è¿‡æ»¤ã€‚\n+- å‘Šè­¦æ¶ˆæ¯åŒ…å« ASG åç§°ã€å®ä¾‹ IDã€ç»ˆæ­¢ç»“æœã€Causeã€Regionã€AccountIdã€LifecycleHookï¼Œå¹¶æ˜¾ç¤º UTC ä¸ JST æ—¶é—´ï¼ˆå‚è€ƒç”¨æˆ·æ—¶åŒºæç¤ºï¼‰ã€‚\n+- å‘Šè­¦ç›®æ ‡å›ºå®šä¸º Feishuï¼šé€šè¿‡ `Feishu/SendMessage` æœåŠ¡å‘é€ï¼Œæ¶ˆæ¯å¡ç‰‡ç»“æ„å‚è€ƒ `apps/alert-receiver`ï¼Œä¸æ–°å¢é¢å¤–é…ç½®é¡¹ã€‚\n+\n+## èŒƒå›´\n+\n+- `apps/asg-eventbridge-notifier/**`ï¼ˆæ–°å¢ï¼‰\n+- `rush.json`ï¼ˆæ³¨å†Œæ–° appï¼‰\n+- å…¶ä»–å¿…è¦çš„é…ç½®æ–‡ä»¶ï¼ˆ`tsconfig.json` / `config/*`ï¼‰\n+\n+## é˜¶æ®µæ¦‚è§ˆ\n+\n+1. **è°ƒç ”** - 1 ä¸ªä»»åŠ¡\n+2. **è®¾è®¡** - 1 ä¸ªä»»åŠ¡\n+3. **å®ç°** - 1 ä¸ªä»»åŠ¡\n+4. **éªŒè¯** - 1 ä¸ªä»»åŠ¡\n+\n+---\n+\n+## è®¾è®¡æ–¹æ¡ˆ\n+\n+### æ ¸å¿ƒæµç¨‹\n+\n+1. æ¥æ”¶ EventBridge äº‹ä»¶ï¼ˆJSONï¼‰ï¼š`source`ã€`detail-type`ã€`detail`ã€‚\n+2. æ ¡éªŒäº‹ä»¶ç±»å‹ä¸ ASG åç§°ï¼šä»…å¤„ç† `EC2 Instance Terminate Successful/Unsuccessful` + æŒ‡å®š `AutoScalingGroupName`ã€‚\n+3. å¯é€‰è¿‡æ»¤ï¼šè‹¥å¼€å¯ `STATUS_CHECKS_ONLY`ï¼Œè¦æ±‚ `detail.Cause` å« `status checks failure`ã€‚\n+4. æ ¼å¼åŒ–å‘Šè­¦æ¶ˆæ¯ï¼šå±•ç¤º ASG/å®ä¾‹/çŠ¶æ€/Causeï¼Œæ—¶é—´å­—æ®µåŒæ—¶è¾“å‡º UTC ä¸ JSTã€‚\n+5. é€šè¿‡ `Terminal` è°ƒç”¨ `Feishu/SendMessage` æ¨é€åˆ° `apps/feishu-notifier`ã€‚\n+\n+> [REVIEW] è¿™ä¸ªè®¾è®¡æœ€åè¾“å‡ºè¦ç›´æ¥å‘åˆ° feishu-notifierï¼Œé…ç½®é£ä¹¦å¡ç‰‡å‚è€ƒ alert-receiverï¼Œä¸è¦é…ç½®ã€‚\n+>\n+> [RESPONSE] å·²ä¿®æ”¹è®¾è®¡ï¼šç›®æ ‡å›ºå®šé€šè¿‡ `Feishu/SendMessage` å‘å¾€ `apps/feishu-notifier`ï¼Œå¹¶æ³¨æ˜æ¶ˆæ¯å¡ç‰‡ç»“æ„å‚è€ƒ `apps/alert-receiver`ï¼Œä¸æ–°å¢é¢å¤–é…ç½®é¡¹ã€‚æ ¸å¿ƒæµç¨‹ä¸è¦ç‚¹åŒæ­¥è°ƒæ•´ã€‚\n+> [STATUS:resolved]\n+\n+### æ”¯æŒçš„ detail-type\n+\n+- `EC2 Instance Terminate Successful`\n+- `EC2 Instance Terminate Unsuccessful`\n+\n+### æ¥å£ä¸é…ç½®è‰æ¡ˆ\n+\n+- è¿è¡Œæ¨¡å¼ï¼šé•¿æœŸè¿è¡Œçš„ Node appï¼ˆä¸æä¾› Lambda handlerï¼‰ã€‚\n+- äº‹ä»¶å¤„ç†å…¥å£ï¼š`handleAsgEvent(event)`ï¼Œè¿”å› `{ notified: boolean; reason?: string }`ã€‚\n+- ç¯å¢ƒå˜é‡ï¼ˆæ‹Ÿï¼‰ï¼š\n+  - `ASG_NAMES`ï¼ˆåˆ†å·åˆ†éš”ï¼‰\n+  - `STATUS_CHECKS_ONLY`ï¼ˆtrue/falseï¼‰\n+  - `FEISHU_RECEIVER_ID`ï¼ˆå‘é€å¯¹è±¡ï¼Œç”¨æˆ·/ç¾¤ç»„ idï¼‰\n+\n+### æ¶ˆæ¯æ ¼å¼è‰æ¡ˆ\n+\n+- æ ‡é¢˜ï¼š`ASG Terminate {Successful|Unsuccessful}`\n+- å†…å®¹å­—æ®µï¼š\n+  - `AutoScalingGroupName`\n+  - `EC2InstanceId`\n+  - `Cause`ï¼ˆåŸæ–‡ä¿ç•™ï¼‰\n+  - `Region`\n+  - `AccountId`\n+  - `LifecycleHookName`\n+  - `EventTime`ï¼ˆUTC + JSTï¼‰\n+\n+### æ–‡ä»¶å˜æ›´æ˜ç»†ï¼ˆé¢„æœŸï¼‰\n+\n+- `apps/asg-eventbridge-notifier/package.json`\n+- `apps/asg-eventbridge-notifier/src/index.ts`\n+- `apps/asg-eventbridge-notifier/src/handler.ts`ï¼ˆäº‹ä»¶è§£æ + è¿‡æ»¤ + è·¯ç”±ï¼‰\n+- `apps/asg-eventbridge-notifier/src/format.ts`ï¼ˆæ¶ˆæ¯æ¨¡æ¿ + æ—¶åŒºè½¬æ¢ï¼‰\n+- `apps/asg-eventbridge-notifier/tsconfig.json` / `config/*`\n+- `rush.json`\n+\n+### å¾…ç¡®è®¤/ä¸ç¡®å®šç‚¹\n+\n+- è¿‡æ»¤ç­–ç•¥ï¼šé»˜è®¤æ˜¯å¦ä»… `status checks failure`ï¼Œè¿˜æ˜¯å…è®¸ `detail-type` å³å…¨éƒ¨å‘Šè­¦ï¼Ÿ\n+- `detail.Cause` å­—æ®µæ˜¯å¦ç¨³å®šåŒ…å« `status checks failure` å­—æ ·ï¼Œéœ€è¦äº‹ä»¶æ ·æœ¬ç¡®è®¤ã€‚\n+\n+> [REVIEW]\n+>\n+> 1. feishu\n+> 2. é•¿æœŸè¿è¡Œ\n+> 3. å…¨éƒ¨ type è¦è¡¥å……åˆ°è¿™ä¸ª plan é‡Œè®©æˆ‘ review\n+> 4. æ¶ˆæ¯é‡Œè¡¥å…… region accountid lifecyclehook\n+>\n+> [RESPONSE] å·²æŒ‰è¦æ±‚æ›´æ–°ï¼šæ˜ç¡®ç›®æ ‡ä¸º Feishuã€é•¿æœŸè¿è¡Œ Node appï¼›è¡¥å……æ”¯æŒçš„ detail-type åˆ—è¡¨ï¼›æ¶ˆæ¯å­—æ®µæ–°å¢ Region/AccountId/LifecycleHookï¼›å¾…ç¡®è®¤é¡¹æ”¶æ•›åˆ°è¿‡æ»¤ç­–ç•¥ä¸ Cause æ ·æœ¬ã€‚\n+> [STATUS:resolved]\n+\n+_åˆ›å»ºäº: 2026-01-13 | æœ€åæ›´æ–°: 2026-01-13_\n",
          "codeSnippets": []
        },
        {
          "additions": 43,
          "deletions": 0,
          "path": ".legion/tasks/app-asg-eventbridge-notifier/tasks.md",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/.legion/tasks/app-asg-eventbridge-notifier/tasks.md b/.legion/tasks/app-asg-eventbridge-notifier/tasks.md\nnew file mode 100644\nindex 000000000..01b65f7e2\n--- /dev/null\n+++ b/.legion/tasks/app-asg-eventbridge-notifier/tasks.md\n@@ -0,0 +1,43 @@\n+# app-asg-eventbridge-notifier - ä»»åŠ¡æ¸…å•\n+\n+## å¿«é€Ÿæ¢å¤\n+\n+**å½“å‰é˜¶æ®µ**: é˜¶æ®µ 4 - éªŒè¯\n+**å½“å‰ä»»åŠ¡**: æ‰§è¡Œæœ€å°æ„å»º/ç±»å‹æ£€æŸ¥\n+**è¿›åº¦**: 4/6 ä»»åŠ¡å®Œæˆ\n+\n+---\n+\n+## é˜¶æ®µ 1: è°ƒç ”\n+\n+- [x] é˜…è¯» `apps/feishu-notifier` ä¸ç°æœ‰ notifier åº”ç”¨ç»“æ„ï¼Œæ•´ç†è„šæ‰‹æ¶ä¸ä¾èµ–æ¨¡å¼ã€‚ | éªŒæ”¶: context.md è®°å½•å·¥ç¨‹ç»“æ„ã€ä¾èµ–ä¸åˆå§‹åŒ–å…¥å£ã€‚\n+- [ ] æ”¶é›† EventBridge ASG ç»ˆæ­¢äº‹ä»¶æ ·æœ¬ï¼ˆå­—æ®µåˆ—è¡¨ã€detail.Cause æ–‡æœ¬ï¼‰ã€‚ | éªŒæ”¶: context.md è®°å½•å¯ç”¨å­—æ®µä¸æ¶ˆæ¯ç¤ºä¾‹ã€‚\n+\n+---\n+\n+## é˜¶æ®µ 2: è®¾è®¡\n+\n+- [x] æ˜ç¡®äº‹ä»¶è¿‡æ»¤ä¸å‘Šè­¦è·¯ç”±ç­–ç•¥ï¼ˆå« `status checks failure` ç­›é€‰é€»è¾‘ä¸ TARGET_MODE å†³ç­–ï¼‰ã€‚ | éªŒæ”¶: plan.md æ›´æ–°è¿‡æ»¤è§„åˆ™ä¸ç›®æ ‡è·¯ç”±é€‰å‹ã€‚\n+- [x] äº§å‡ºæ¥å£ä¸é…ç½®æ¸…å•ï¼ˆhandler å…¥å£ã€ç¯å¢ƒå˜é‡ã€æ¶ˆæ¯æ¨¡æ¿ï¼‰ã€‚ | éªŒæ”¶: plan.md è¡¥å……æ¥å£/é…ç½®ä¸æ¶ˆæ¯å­—æ®µè¡¨ã€‚\n+\n+---\n+\n+## é˜¶æ®µ 3: å®ç°\n+\n+- [x] åˆ›å»º `apps/asg-eventbridge-notifier` å¹¶å®ç°äº‹ä»¶å¤„ç†ã€æ¶ˆæ¯æ ¼å¼åŒ–ä¸ç›®æ ‡æ¨é€ã€‚ | éªŒæ”¶: ä»£ç å¯ç¼–è¯‘ï¼Œç¤ºä¾‹äº‹ä»¶å¯è§¦å‘ç›®æ ‡é€šçŸ¥ã€‚\n+\n+---\n+\n+## é˜¶æ®µ 4: éªŒè¯\n+\n+- [ ] æ‰§è¡Œæœ€å°æ„å»º/ç±»å‹æ£€æŸ¥å¹¶è®°å½•éªŒè¯æ­¥éª¤ã€‚ | éªŒæ”¶: è®°å½•éªŒè¯å‘½ä»¤ä¸ç»“æœï¼Œæ— æ–°å¢æ„å»ºé”™è¯¯ã€‚\n+\n+---\n+\n+## å‘ç°çš„æ–°ä»»åŠ¡\n+\n+(æš‚æ— )\n+\n+---\n+\n+_æœ€åæ›´æ–°: 2026-01-13 15:40_\n",
          "codeSnippets": []
        },
        {
          "additions": 411,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/config/api-extractor.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/config/api-extractor.json b/apps/asg-eventbridge-notifier/config/api-extractor.json\nnew file mode 100644\nindex 000000000..62f4fd324\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/config/api-extractor.json\n@@ -0,0 +1,411 @@\n+/**\n+ * Config file for API Extractor.  For more info, please visit: https://api-extractor.com\n+ */\n+{\n+  \"$schema\": \"https://developer.microsoft.com/json-schemas/api-extractor/v7/api-extractor.schema.json\",\n+\n+  /**\n+   * Optionally specifies another JSON config file that this file extends from.  This provides a way for\n+   * standard settings to be shared across multiple projects.\n+   *\n+   * If the path starts with \"./\" or \"../\", the path is resolved relative to the folder of the file that contains\n+   * the \"extends\" field.  Otherwise, the first path segment is interpreted as an NPM package name, and will be\n+   * resolved using NodeJS require().\n+   *\n+   * SUPPORTED TOKENS: none\n+   * DEFAULT VALUE: \"\"\n+   */\n+  // \"extends\": \"./shared/api-extractor-base.json\"\n+  // \"extends\": \"my-package/include/api-extractor-base.json\"\n+\n+  /**\n+   * Determines the \"<projectFolder>\" token that can be used with other config file settings.  The project folder\n+   * typically contains the tsconfig.json and package.json config files, but the path is user-defined.\n+   *\n+   * The path is resolved relative to the folder of the config file that contains the setting.\n+   *\n+   * The default value for \"projectFolder\" is the token \"<lookup>\", which means the folder is determined by traversing\n+   * parent folders, starting from the folder containing api-extractor.json, and stopping at the first folder\n+   * that contains a tsconfig.json file.  If a tsconfig.json file cannot be found in this way, then an error\n+   * will be reported.\n+   *\n+   * SUPPORTED TOKENS: <lookup>\n+   * DEFAULT VALUE: \"<lookup>\"\n+   */\n+  // \"projectFolder\": \"..\",\n+\n+  /**\n+   * (REQUIRED) Specifies the .d.ts file to be used as the starting point for analysis.  API Extractor\n+   * analyzes the symbols exported by this module.\n+   *\n+   * The file extension must be \".d.ts\" and not \".ts\".\n+   *\n+   * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+   * prepend a folder token such as \"<projectFolder>\".\n+   *\n+   * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+   */\n+  \"mainEntryPointFilePath\": \"<projectFolder>/lib/index.d.ts\",\n+\n+  /**\n+   * A list of NPM package names whose exports should be treated as part of this package.\n+   *\n+   * For example, suppose that Webpack is used to generate a distributed bundle for the project \"library1\",\n+   * and another NPM package \"library2\" is embedded in this bundle.  Some types from library2 may become part\n+   * of the exported API for library1, but by default API Extractor would generate a .d.ts rollup that explicitly\n+   * imports library2.  To avoid this, we can specify:\n+   *\n+   *   \"bundledPackages\": [ \"library2\" ],\n+   *\n+   * This would direct API Extractor to embed those types directly in the .d.ts rollup, as if they had been\n+   * local files for library1.\n+   */\n+  \"bundledPackages\": [],\n+\n+  /**\n+   * Specifies what type of newlines API Extractor should use when writing output files.  By default, the output files\n+   * will be written with Windows-style newlines.  To use POSIX-style newlines, specify \"lf\" instead.\n+   * To use the OS's default newline kind, specify \"os\".\n+   *\n+   * DEFAULT VALUE: \"crlf\"\n+   */\n+  // \"newlineKind\": \"crlf\",\n+\n+  /**\n+   * Set to true when invoking API Extractor's test harness. When `testMode` is true, the `toolVersion` field in the\n+   * .api.json file is assigned an empty string to prevent spurious diffs in output files tracked for tests.\n+   *\n+   * DEFAULT VALUE: \"false\"\n+   */\n+  // \"testMode\": false,\n+\n+  /**\n+   * Specifies how API Extractor sorts members of an enum when generating the .api.json file. By default, the output\n+   * files will be sorted alphabetically, which is \"by-name\". To keep the ordering in the source code, specify\n+   * \"preserve\".\n+   *\n+   * DEFAULT VALUE: \"by-name\"\n+   */\n+  // \"enumMemberOrder\": \"by-name\",\n+\n+  /**\n+   * Determines how the TypeScript compiler engine will be invoked by API Extractor.\n+   */\n+  \"compiler\": {\n+    /**\n+     * Specifies the path to the tsconfig.json file to be used by API Extractor when analyzing the project.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * Note: This setting will be ignored if \"overrideTsconfig\" is used.\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<projectFolder>/tsconfig.json\"\n+     */\n+    // \"tsconfigFilePath\": \"<projectFolder>/tsconfig.json\",\n+    /**\n+     * Provides a compiler configuration that will be used instead of reading the tsconfig.json file from disk.\n+     * The object must conform to the TypeScript tsconfig schema:\n+     *\n+     * http://json.schemastore.org/tsconfig\n+     *\n+     * If omitted, then the tsconfig.json file will be read from the \"projectFolder\".\n+     *\n+     * DEFAULT VALUE: no overrideTsconfig section\n+     */\n+    // \"overrideTsconfig\": {\n+    //   . . .\n+    // }\n+    /**\n+     * This option causes the compiler to be invoked with the --skipLibCheck option. This option is not recommended\n+     * and may cause API Extractor to produce incomplete or incorrect declarations, but it may be required when\n+     * dependencies contain declarations that are incompatible with the TypeScript engine that API Extractor uses\n+     * for its analysis.  Where possible, the underlying issue should be fixed rather than relying on skipLibCheck.\n+     *\n+     * DEFAULT VALUE: false\n+     */\n+    // \"skipLibCheck\": true,\n+  },\n+\n+  /**\n+   * Configures how the API report file (*.api.md) will be generated.\n+   */\n+  \"apiReport\": {\n+    /**\n+     * (REQUIRED) Whether to generate an API report.\n+     */\n+    \"enabled\": true\n+\n+    /**\n+     * The filename for the API report files.  It will be combined with \"reportFolder\" or \"reportTempFolder\" to produce\n+     * a full file path.\n+     *\n+     * The file extension should be \".api.md\", and the string should not contain a path separator such as \"\\\" or \"/\".\n+     *\n+     * SUPPORTED TOKENS: <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<unscopedPackageName>.api.md\"\n+     */\n+    // \"reportFileName\": \"<unscopedPackageName>.api.md\",\n+\n+    /**\n+     * Specifies the folder where the API report file is written.  The file name portion is determined by\n+     * the \"reportFileName\" setting.\n+     *\n+     * The API report file is normally tracked by Git.  Changes to it can be used to trigger a branch policy,\n+     * e.g. for an API review.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<projectFolder>/temp/\"\n+     */\n+    // \"reportFolder\": \"<projectFolder>/temp/\",\n+\n+    /**\n+     * Specifies the folder where the temporary report file is written.  The file name portion is determined by\n+     * the \"reportFileName\" setting.\n+     *\n+     * After the temporary file is written to disk, it is compared with the file in the \"reportFolder\".\n+     * If they are different, a production build will fail.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<projectFolder>/temp/\"\n+     */\n+    // \"reportTempFolder\": \"<projectFolder>/temp/\",\n+\n+    /**\n+     * Whether \"forgotten exports\" should be included in the API report file. Forgotten exports are declarations\n+     * flagged with `ae-forgotten-export` warnings. See https://api-extractor.com/pages/messages/ae-forgotten-export/ to\n+     * learn more.\n+     *\n+     * DEFAULT VALUE: \"false\"\n+     */\n+    // \"includeForgottenExports\": false\n+  },\n+\n+  /**\n+   * Configures how the doc model file (*.api.json) will be generated.\n+   */\n+  \"docModel\": {\n+    /**\n+     * (REQUIRED) Whether to generate a doc model file.\n+     */\n+    \"enabled\": true\n+\n+    /**\n+     * The output path for the doc model file.  The file extension should be \".api.json\".\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<projectFolder>/temp/<unscopedPackageName>.api.json\"\n+     */\n+    // \"apiJsonFilePath\": \"<projectFolder>/temp/<unscopedPackageName>.api.json\",\n+\n+    /**\n+     * Whether \"forgotten exports\" should be included in the doc model file. Forgotten exports are declarations\n+     * flagged with `ae-forgotten-export` warnings. See https://api-extractor.com/pages/messages/ae-forgotten-export/ to\n+     * learn more.\n+     *\n+     * DEFAULT VALUE: \"false\"\n+     */\n+    // \"includeForgottenExports\": false\n+  },\n+\n+  /**\n+   * Configures how the .d.ts rollup file will be generated.\n+   */\n+  \"dtsRollup\": {\n+    /**\n+     * (REQUIRED) Whether to generate the .d.ts rollup file.\n+     */\n+    \"enabled\": true\n+\n+    /**\n+     * Specifies the output path for a .d.ts rollup file to be generated without any trimming.\n+     * This file will include all declarations that are exported by the main entry point.\n+     *\n+     * If the path is an empty string, then this file will not be written.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<projectFolder>/dist/<unscopedPackageName>.d.ts\"\n+     */\n+    // \"untrimmedFilePath\": \"<projectFolder>/dist/<unscopedPackageName>.d.ts\",\n+\n+    /**\n+     * Specifies the output path for a .d.ts rollup file to be generated with trimming for an \"alpha\" release.\n+     * This file will include only declarations that are marked as \"@public\", \"@beta\", or \"@alpha\".\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"\"\n+     */\n+    // \"alphaTrimmedFilePath\": \"<projectFolder>/dist/<unscopedPackageName>-alpha.d.ts\",\n+\n+    /**\n+     * Specifies the output path for a .d.ts rollup file to be generated with trimming for a \"beta\" release.\n+     * This file will include only declarations that are marked as \"@public\" or \"@beta\".\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"\"\n+     */\n+    // \"betaTrimmedFilePath\": \"<projectFolder>/dist/<unscopedPackageName>-beta.d.ts\",\n+\n+    /**\n+     * Specifies the output path for a .d.ts rollup file to be generated with trimming for a \"public\" release.\n+     * This file will include only declarations that are marked as \"@public\".\n+     *\n+     * If the path is an empty string, then this file will not be written.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"\"\n+     */\n+    // \"publicTrimmedFilePath\": \"<projectFolder>/dist/<unscopedPackageName>-public.d.ts\",\n+\n+    /**\n+     * When a declaration is trimmed, by default it will be replaced by a code comment such as\n+     * \"Excluded from this release type: exampleMember\".  Set \"omitTrimmingComments\" to true to remove the\n+     * declaration completely.\n+     *\n+     * DEFAULT VALUE: false\n+     */\n+    // \"omitTrimmingComments\": true\n+  },\n+\n+  /**\n+   * Configures how the tsdoc-metadata.json file will be generated.\n+   */\n+  \"tsdocMetadata\": {\n+    /**\n+     * Whether to generate the tsdoc-metadata.json file.\n+     *\n+     * DEFAULT VALUE: true\n+     */\n+    // \"enabled\": true,\n+    /**\n+     * Specifies where the TSDoc metadata file should be written.\n+     *\n+     * The path is resolved relative to the folder of the config file that contains the setting; to change this,\n+     * prepend a folder token such as \"<projectFolder>\".\n+     *\n+     * The default value is \"<lookup>\", which causes the path to be automatically inferred from the \"tsdocMetadata\",\n+     * \"typings\" or \"main\" fields of the project's package.json.  If none of these fields are set, the lookup\n+     * falls back to \"tsdoc-metadata.json\" in the package folder.\n+     *\n+     * SUPPORTED TOKENS: <projectFolder>, <packageName>, <unscopedPackageName>\n+     * DEFAULT VALUE: \"<lookup>\"\n+     */\n+    // \"tsdocMetadataFilePath\": \"<projectFolder>/dist/tsdoc-metadata.json\"\n+  },\n+\n+  /**\n+   * Configures how API Extractor reports error and warning messages produced during analysis.\n+   *\n+   * There are three sources of messages:  compiler messages, API Extractor messages, and TSDoc messages.\n+   */\n+  \"messages\": {\n+    /**\n+     * Configures handling of diagnostic messages reported by the TypeScript compiler engine while analyzing\n+     * the input .d.ts files.\n+     *\n+     * TypeScript message identifiers start with \"TS\" followed by an integer.  For example: \"TS2551\"\n+     *\n+     * DEFAULT VALUE:  A single \"default\" entry with logLevel=warning.\n+     */\n+    \"compilerMessageReporting\": {\n+      /**\n+       * Configures the default routing for messages that don't match an explicit rule in this table.\n+       */\n+      \"default\": {\n+        /**\n+         * Specifies whether the message should be written to the the tool's output log.  Note that\n+         * the \"addToApiReportFile\" property may supersede this option.\n+         *\n+         * Possible values: \"error\", \"warning\", \"none\"\n+         *\n+         * Errors cause the build to fail and return a nonzero exit code.  Warnings cause a production build fail\n+         * and return a nonzero exit code.  For a non-production build (e.g. when \"api-extractor run\" includes\n+         * the \"--local\" option), the warning is displayed but the build will not fail.\n+         *\n+         * DEFAULT VALUE: \"warning\"\n+         */\n+        \"logLevel\": \"warning\"\n+\n+        /**\n+         * When addToApiReportFile is true:  If API Extractor is configured to write an API report file (.api.md),\n+         * then the message will be written inside that file; otherwise, the message is instead logged according to\n+         * the \"logLevel\" option.\n+         *\n+         * DEFAULT VALUE: false\n+         */\n+        // \"addToApiReportFile\": false\n+      }\n+\n+      // \"TS2551\": {\n+      //   \"logLevel\": \"warning\",\n+      //   \"addToApiReportFile\": true\n+      // },\n+      //\n+      // . . .\n+    },\n+\n+    /**\n+     * Configures handling of messages reported by API Extractor during its analysis.\n+     *\n+     * API Extractor message identifiers start with \"ae-\".  For example: \"ae-extra-release-tag\"\n+     *\n+     * DEFAULT VALUE: See api-extractor-defaults.json for the complete table of extractorMessageReporting mappings\n+     */\n+    \"extractorMessageReporting\": {\n+      \"default\": {\n+        \"logLevel\": \"warning\"\n+        // \"addToApiReportFile\": false\n+      }\n+\n+      // \"ae-extra-release-tag\": {\n+      //   \"logLevel\": \"warning\",\n+      //   \"addToApiReportFile\": true\n+      // },\n+      //\n+      // . . .\n+    },\n+\n+    /**\n+     * Configures handling of messages reported by the TSDoc parser when analyzing code comments.\n+     *\n+     * TSDoc message identifiers start with \"tsdoc-\".  For example: \"tsdoc-link-tag-unescaped-text\"\n+     *\n+     * DEFAULT VALUE:  A single \"default\" entry with logLevel=warning.\n+     */\n+    \"tsdocMessageReporting\": {\n+      \"default\": {\n+        \"logLevel\": \"warning\"\n+        // \"addToApiReportFile\": false\n+      }\n+\n+      // \"tsdoc-link-tag-unescaped-text\": {\n+      //   \"logLevel\": \"warning\",\n+      //   \"addToApiReportFile\": true\n+      // },\n+      //\n+      // . . .\n+    }\n+  }\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 3,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/config/jest.config.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/config/jest.config.json b/apps/asg-eventbridge-notifier/config/jest.config.json\nnew file mode 100644\nindex 000000000..4bb17bde3\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/config/jest.config.json\n@@ -0,0 +1,3 @@\n+{\n+  \"extends\": \"@rushstack/heft-node-rig/profiles/default/config/jest.config.json\"\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 18,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/config/rig.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/config/rig.json b/apps/asg-eventbridge-notifier/config/rig.json\nnew file mode 100644\nindex 000000000..f6c7b5537\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/config/rig.json\n@@ -0,0 +1,18 @@\n+// The \"rig.json\" file directs tools to look for their config files in an external package.\n+// Documentation for this system: https://www.npmjs.com/package/@rushstack/rig-package\n+{\n+  \"$schema\": \"https://developer.microsoft.com/json-schemas/rig-package/rig.schema.json\",\n+\n+  /**\n+   * (Required) The name of the rig package to inherit from.\n+   * It should be an NPM package name with the \"-rig\" suffix.\n+   */\n+  \"rigPackageName\": \"@rushstack/heft-node-rig\"\n+\n+  /**\n+   * (Optional) Selects a config profile from the rig package.  The name must consist of\n+   * lowercase alphanumeric words separated by hyphens, for example \"sample-profile\".\n+   * If omitted, then the \"default\" profile will be used.\"\n+   */\n+  // \"rigProfile\": \"your-profile-name\"\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 87,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/config/typescript.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/config/typescript.json b/apps/asg-eventbridge-notifier/config/typescript.json\nnew file mode 100644\nindex 000000000..854907e8a\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/config/typescript.json\n@@ -0,0 +1,87 @@\n+/**\n+ * Configures the TypeScript plugin for Heft.  This plugin also manages linting.\n+ */\n+{\n+  \"$schema\": \"https://developer.microsoft.com/json-schemas/heft/typescript.schema.json\",\n+\n+  /**\n+   * Optionally specifies another JSON config file that this file extends from. This provides a way for standard\n+   * settings to be shared across multiple projects.\n+   */\n+  // \"extends\": \"base-project/config/typescript.json\",\n+\n+  /**\n+   * Can be set to \"copy\" or \"hardlink\". If set to \"copy\", copy files from cache.\n+   * If set to \"hardlink\", files will be hardlinked to the cache location.\n+   * This option is useful when producing a tarball of build output as TAR files don't\n+   * handle these hardlinks correctly. \"hardlink\" is the default behavior.\n+   */\n+  // \"copyFromCacheMode\": \"copy\",\n+\n+  /**\n+   * If provided, emit these module kinds in addition to the modules specified in the tsconfig.\n+   * Note that this option only applies to the main tsconfig.json configuration.\n+   */\n+  \"additionalModuleKindsToEmit\": [\n+    {\n+      \"moduleKind\": \"esnext\",\n+      \"outFolderName\": \"dist\"\n+    }\n+    // {\n+    //   /**\n+    //    * (Required) Must be one of \"commonjs\", \"amd\", \"umd\", \"system\", \"es2015\", \"esnext\"\n+    //    */\n+    //  \"moduleKind\": \"amd\",\n+    //\n+    //   /**\n+    //    * (Required) The name of the folder where the output will be written.\n+    //    */\n+    //    \"outFolderName\": \"lib-amd\"\n+    // }\n+  ],\n+\n+  /**\n+   * Specifies the intermediary folder that tests will use.  Because Jest uses the\n+   * Node.js runtime to execute tests, the module format must be CommonJS.\n+   *\n+   * The default value is \"lib\".\n+   */\n+  // \"emitFolderNameForTests\": \"lib-commonjs\",\n+\n+  /**\n+   * If set to \"true\", the TSlint task will not be invoked.\n+   */\n+  // \"disableTslint\": true,\n+\n+  /**\n+   * Set this to change the maximum number of file handles that will be opened concurrently for writing.\n+   * The default is 50.\n+   */\n+  // \"maxWriteParallelism\": 50,\n+\n+  /**\n+   * Configures additional file types that should be copied into the TypeScript compiler's emit folders, for example\n+   * so that these files can be resolved by import statements.\n+   */\n+  \"staticAssetsToCopy\": {\n+    /**\n+     * File extensions that should be copied from the src folder to the destination folder(s).\n+     */\n+    // \"fileExtensions\": [\n+    //   \".json\", \".css\"\n+    // ],\n+    /**\n+     * Glob patterns that should be explicitly included.\n+     */\n+    // \"includeGlobs\": [\n+    //   \"some/path/*.js\"\n+    // ],\n+    /**\n+     * Glob patterns that should be explicitly excluded. This takes precedence over globs listed\n+     * in \"includeGlobs\" and files that match the file extensions provided in \"fileExtensions\".\n+     */\n+    // \"excludeGlobs\": [\n+    //   \"some/path/*.css\"\n+    // ]\n+  }\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 9,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/etc/app-asg-eventbridge-notifier.api.md",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/etc/app-asg-eventbridge-notifier.api.md b/apps/asg-eventbridge-notifier/etc/app-asg-eventbridge-notifier.api.md\nnew file mode 100644\nindex 000000000..91bf77f65\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/etc/app-asg-eventbridge-notifier.api.md\n@@ -0,0 +1,9 @@\n+## API Report File for \"@yuants/app-asg-eventbridge-notifier\"\r\n+\r\n+> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).\r\n+\r\n+```ts\r\n+\r\n+// (No @packageDocumentation comment for this package)\r\n+\r\n+```\r\n",
          "codeSnippets": []
        },
        {
          "additions": 34,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/package.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/package.json b/apps/asg-eventbridge-notifier/package.json\nnew file mode 100644\nindex 000000000..8ff556894\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/package.json\n@@ -0,0 +1,34 @@\n+{\n+  \"name\": \"@yuants/app-asg-eventbridge-notifier\",\n+  \"version\": \"0.1.0\",\n+  \"main\": \"lib/index.js\",\n+  \"files\": [\n+    \"dist\",\n+    \"lib\",\n+    \"temp\"\n+  ],\n+  \"scripts\": {\n+    \"build\": \"heft test --clean && api-extractor run --local --config ./config/api-extractor.json && yuan-toolkit post-build\"\n+  },\n+  \"dependencies\": {\n+    \"@yuants/protocol\": \"workspace:*\",\n+    \"@yuants/utils\": \"workspace:*\"\n+  },\n+  \"devDependencies\": {\n+    \"@microsoft/api-extractor\": \"~7.55.2\",\n+    \"@rushstack/heft\": \"~1.1.7\",\n+    \"@rushstack/heft-jest-plugin\": \"~1.1.7\",\n+    \"@rushstack/heft-node-rig\": \"~2.11.12\",\n+    \"@types/heft-jest\": \"1.0.6\",\n+    \"@types/json-schema\": \"~7.0.11\",\n+    \"@types/node\": \"24\",\n+    \"@yuants/extension\": \"workspace:*\",\n+    \"@yuants/tool-kit\": \"workspace:*\",\n+    \"json-schema\": \"~0.4.0\",\n+    \"typescript\": \"~5.9.3\"\n+  },\n+  \"publishConfig\": {\n+    \"access\": \"public\",\n+    \"registry\": \"https://registry.npmjs.org\"\n+  }\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 111,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/src/format.ts",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/src/format.ts b/apps/asg-eventbridge-notifier/src/format.ts\nnew file mode 100644\nindex 000000000..a721c8fbf\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/src/format.ts\n@@ -0,0 +1,111 @@\n+import { formatTime } from '@yuants/utils';\n+import type { AutoScalingTerminationEvent } from './handler';\n+\n+const DEFAULT_MARGIN = '0px 0px 0px 0px';\n+\n+const buildField = (label: string, value: string) => ({\n+  tag: 'markdown',\n+  content: `<font color=\"grey\">${label}</font>\\n${value}`,\n+  text_align: 'left',\n+  text_size: 'normal_v2',\n+  margin: DEFAULT_MARGIN,\n+});\n+\n+const buildColumnSet = (left: ReturnType<typeof buildField>, right: ReturnType<typeof buildField>) => ({\n+  tag: 'column_set',\n+  horizontal_spacing: '8px',\n+  horizontal_align: 'left',\n+  columns: [\n+    {\n+      tag: 'column',\n+      width: 'weighted',\n+      elements: [left],\n+      vertical_spacing: '8px',\n+      horizontal_align: 'left',\n+      vertical_align: 'top',\n+      weight: 1,\n+    },\n+    {\n+      tag: 'column',\n+      width: 'weighted',\n+      elements: [right],\n+      vertical_spacing: '8px',\n+      horizontal_align: 'left',\n+      vertical_align: 'top',\n+      weight: 1,\n+    },\n+  ],\n+  margin: DEFAULT_MARGIN,\n+});\n+\n+export const buildAsgTerminationCard = (event: AutoScalingTerminationEvent) => {\n+  const detail = event.detail ?? {};\n+  const detailType = event['detail-type'];\n+  const isUnsuccessful = detailType === 'EC2 Instance Terminate Unsuccessful';\n+  const statusLabel = isUnsuccessful ? 'ç»ˆæ­¢å¤±è´¥' : 'ç»ˆæ­¢æˆåŠŸ';\n+  const eventTime = event.time ?? Date.now();\n+  const utcTime = formatTime(eventTime, 'UTC');\n+  const jstTime = formatTime(eventTime, 'Asia/Tokyo');\n+\n+  const asgName = detail.AutoScalingGroupName ?? 'unknown';\n+  const instanceId = detail.EC2InstanceId ?? 'unknown';\n+  const lifecycleHook = detail.LifecycleHookName ?? 'None';\n+  const cause = detail.Cause ?? 'None';\n+  const region = event.region ?? 'unknown';\n+  const accountId = event.account ?? 'unknown';\n+\n+  return {\n+    schema: '2.0',\n+    config: {\n+      update_multi: true,\n+      style: {\n+        text_size: {\n+          normal_v2: {\n+            default: 'normal',\n+            pc: 'normal',\n+            mobile: 'heading',\n+          },\n+        },\n+      },\n+    },\n+    header: {\n+      title: {\n+        tag: 'plain_text',\n+        content: `${statusLabel} - ASG Terminate`,\n+      },\n+      subtitle: {\n+        tag: 'plain_text',\n+        content: detailType,\n+      },\n+      template: isUnsuccessful ? 'red' : 'blue',\n+      icon: {\n+        tag: 'standard_icon',\n+        token: isUnsuccessful ? 'warning-hollow_filled' : 'success-hollow_filled',\n+      },\n+      padding: '12px 12px 12px 12px',\n+    },\n+    body: {\n+      direction: 'vertical',\n+      horizontal_spacing: '8px',\n+      vertical_spacing: '8px',\n+      horizontal_align: 'left',\n+      vertical_align: 'top',\n+      padding: '12px 12px 12px 12px',\n+      elements: [\n+        buildColumnSet(buildField('AutoScalingGroupName', asgName), buildField('EC2InstanceId', instanceId)),\n+        buildColumnSet(buildField('LifecycleHookName', lifecycleHook), buildField('Region', region)),\n+        buildColumnSet(\n+          buildField('AccountId', accountId),\n+          buildField('EventTime', `${utcTime} / ${jstTime}`),\n+        ),\n+        {\n+          tag: 'markdown',\n+          content: `**Cause**\\n${cause}`,\n+          text_align: 'left',\n+          text_size: 'normal_v2',\n+          margin: DEFAULT_MARGIN,\n+        },\n+      ],\n+    },\n+  } as const;\n+};\n",
          "codeSnippets": [
            {
              "type": "function",
              "name": "DEFAULT_MARGIN",
              "code": "const DEFAULT_MARGIN = '0px 0px 0px 0px';\n",
              "lineStart": 4,
              "lineEnd": 5
            },
            {
              "type": "function",
              "name": "buildField",
              "code": "const buildField = (label: string, value: string) => ({\n  tag: 'markdown',\n  content: `<font color=\"grey\">${label}</font>\\n${value}`,\n  text_align: 'left',\n  text_size: 'normal_v2',\n  margin: DEFAULT_MARGIN,\n});\n",
              "lineStart": 6,
              "lineEnd": 13
            },
            {
              "type": "function",
              "name": "buildColumnSet",
              "code": "const buildColumnSet = (left: ReturnType<typeof buildField>, right: ReturnType<typeof buildField>) => ({\n  tag: 'column_set',\n  horizontal_spacing: '8px',\n  horizontal_align: 'left',\n  columns: [\n    {\n      tag: 'column',\n      width: 'weighted',\n      elements: [left],\n      vertical_spacing: '8px',\n      horizontal_align: 'left',\n      vertical_align: 'top',\n      weight: 1,\n    },\n    {",
              "lineStart": 14,
              "lineEnd": 40
            },
            {
              "type": "function",
              "name": "buildAsgTerminationCard",
              "code": "export const buildAsgTerminationCard = (event: AutoScalingTerminationEvent) => {",
              "lineStart": 41,
              "lineEnd": 41
            },
            {
              "type": "function",
              "name": "detail",
              "code": "const detail = event.detail ?? {};",
              "lineStart": 42,
              "lineEnd": 42
            },
            {
              "type": "function",
              "name": "detailType",
              "code": "const detailType = event['detail-type'];",
              "lineStart": 43,
              "lineEnd": 43
            },
            {
              "type": "function",
              "name": "isUnsuccessful",
              "code": "const isUnsuccessful = detailType === 'EC2 Instance Terminate Unsuccessful';",
              "lineStart": 44,
              "lineEnd": 44
            },
            {
              "type": "function",
              "name": "statusLabel",
              "code": "const statusLabel = isUnsuccessful ? 'ç»ˆæ­¢å¤±è´¥' : 'ç»ˆæ­¢æˆåŠŸ';",
              "lineStart": 45,
              "lineEnd": 45
            },
            {
              "type": "function",
              "name": "eventTime",
              "code": "const eventTime = event.time ?? Date.now();",
              "lineStart": 46,
              "lineEnd": 46
            },
            {
              "type": "function",
              "name": "utcTime",
              "code": "const utcTime = formatTime(eventTime, 'UTC');",
              "lineStart": 47,
              "lineEnd": 47
            },
            {
              "type": "function",
              "name": "jstTime",
              "code": "const jstTime = formatTime(eventTime, 'Asia/Tokyo');\n",
              "lineStart": 48,
              "lineEnd": 49
            },
            {
              "type": "function",
              "name": "asgName",
              "code": "const asgName = detail.AutoScalingGroupName ?? 'unknown';",
              "lineStart": 50,
              "lineEnd": 50
            },
            {
              "type": "function",
              "name": "instanceId",
              "code": "const instanceId = detail.EC2InstanceId ?? 'unknown';",
              "lineStart": 51,
              "lineEnd": 51
            },
            {
              "type": "function",
              "name": "lifecycleHook",
              "code": "const lifecycleHook = detail.LifecycleHookName ?? 'None';",
              "lineStart": 52,
              "lineEnd": 52
            },
            {
              "type": "function",
              "name": "cause",
              "code": "const cause = detail.Cause ?? 'None';",
              "lineStart": 53,
              "lineEnd": 53
            },
            {
              "type": "function",
              "name": "region",
              "code": "const region = event.region ?? 'unknown';",
              "lineStart": 54,
              "lineEnd": 54
            },
            {
              "type": "function",
              "name": "accountId",
              "code": "const accountId = event.account ?? 'unknown';\n\nreturn {\n  schema: '2.0',\n  config: {\n    update_multi: true,\n    style: {\n      text_size: {\n        normal_v2: {\n          default: 'normal',\n          pc: 'normal',\n          mobile: 'heading',\n        },\n      },\n    },",
              "lineStart": 55,
              "lineEnd": 112
            }
          ]
        },
        {
          "additions": 88,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/src/handler.ts",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/src/handler.ts b/apps/asg-eventbridge-notifier/src/handler.ts\nnew file mode 100644\nindex 000000000..474c6bea7\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/src/handler.ts\n@@ -0,0 +1,88 @@\n+import type { Terminal } from '@yuants/protocol';\n+import { formatTime } from '@yuants/utils';\n+import { buildAsgTerminationCard } from './format';\n+\n+export type AutoScalingTerminationEvent = {\n+  source: string;\n+  'detail-type': string;\n+  account?: string;\n+  region?: string;\n+  time?: string;\n+  detail?: {\n+    AutoScalingGroupName?: string;\n+    EC2InstanceId?: string;\n+    Cause?: string;\n+    LifecycleHookName?: string;\n+  };\n+};\n+\n+const SUPPORTED_DETAIL_TYPES = new Set([\n+  'EC2 Instance Terminate Successful',\n+  'EC2 Instance Terminate Unsuccessful',\n+]);\n+\n+const parseBooleanEnv = (value: string | undefined) => value === 'true' || value === '1';\n+\n+const parseAsgNames = (value: string | undefined) =>\n+  new Set(\n+    (value ?? '')\n+      .split(';')\n+      .map((name) => name.trim())\n+      .filter(Boolean),\n+  );\n+\n+const isStatusChecksFailure = (cause: string | undefined) =>\n+  (cause ?? '').toLowerCase().includes('status checks failure');\n+\n+const shouldProcessEvent = (event: AutoScalingTerminationEvent) => {\n+  if (event.source !== 'aws.autoscaling') {\n+    return { ok: false, reason: 'source-mismatch' };\n+  }\n+  if (!SUPPORTED_DETAIL_TYPES.has(event['detail-type'])) {\n+    return { ok: false, reason: 'detail-type-mismatch' };\n+  }\n+\n+  const allowedAsgNames = parseAsgNames(process.env.ASG_NAMES);\n+  const asgName = event.detail?.AutoScalingGroupName;\n+  if (allowedAsgNames.size > 0 && (!asgName || !allowedAsgNames.has(asgName))) {\n+    return { ok: false, reason: 'asg-name-mismatch' };\n+  }\n+\n+  if (parseBooleanEnv(process.env.STATUS_CHECKS_ONLY) && !isStatusChecksFailure(event.detail?.Cause)) {\n+    return { ok: false, reason: 'status-checks-only' };\n+  }\n+\n+  return { ok: true };\n+};\n+\n+export const handleAsgEvent = async (terminal: Terminal, event: AutoScalingTerminationEvent) => {\n+  const check = shouldProcessEvent(event);\n+  if (!check.ok) {\n+    console.info(formatTime(Date.now()), 'ASGEventSkipped', check.reason, event['detail-type']);\n+    return { notified: false, reason: check.reason };\n+  }\n+\n+  const receiverId = process.env.FEISHU_RECEIVER_ID;\n+  if (!receiverId) {\n+    return { notified: false, reason: 'feishu-receiver-missing' };\n+  }\n+\n+  const card = buildAsgTerminationCard(event);\n+  const payload = {\n+    receive_id: receiverId,\n+    receive_id_type: 'chat_id',\n+    msg_type: 'interactive',\n+    content: JSON.stringify(card),\n+  };\n+\n+  const result = await terminal.client.requestForResponse<typeof payload, { message_id: string }>(\n+    'Feishu/SendMessage',\n+    payload,\n+  );\n+\n+  if (result.code !== 0) {\n+    throw new Error(`SendFeishuCardFailed: ${result.message}`);\n+  }\n+\n+  return { notified: true };\n+};\n",
          "codeSnippets": [
            {
              "type": "function",
              "name": "SUPPORTED_DETAIL_TYPES",
              "code": "const SUPPORTED_DETAIL_TYPES = new Set([\n  'EC2 Instance Terminate Successful',\n  'EC2 Instance Terminate Unsuccessful',\n]);\n",
              "lineStart": 19,
              "lineEnd": 23
            },
            {
              "type": "function",
              "name": "parseBooleanEnv",
              "code": "const parseBooleanEnv = (value: string | undefined) => value === 'true' || value === '1';\n",
              "lineStart": 24,
              "lineEnd": 25
            },
            {
              "type": "function",
              "name": "parseAsgNames",
              "code": "const parseAsgNames = (value: string | undefined) =>\n  new Set(\n    (value ?? '')\n      .split(';')\n      .map((name) => name.trim())\n      .filter(Boolean),\n  );\n",
              "lineStart": 26,
              "lineEnd": 33
            },
            {
              "type": "function",
              "name": "isStatusChecksFailure",
              "code": "const isStatusChecksFailure = (cause: string | undefined) =>\n  (cause ?? '').toLowerCase().includes('status checks failure');\n",
              "lineStart": 34,
              "lineEnd": 36
            },
            {
              "type": "function",
              "name": "shouldProcessEvent",
              "code": "const shouldProcessEvent = (event: AutoScalingTerminationEvent) => {\n  if (event.source !== 'aws.autoscaling') {\n    return { ok: false, reason: 'source-mismatch' };\n  }\n  if (!SUPPORTED_DETAIL_TYPES.has(event['detail-type'])) {\n    return { ok: false, reason: 'detail-type-mismatch' };\n  }\n",
              "lineStart": 37,
              "lineEnd": 44
            },
            {
              "type": "function",
              "name": "allowedAsgNames",
              "code": "const allowedAsgNames = parseAsgNames(process.env.ASG_NAMES);",
              "lineStart": 45,
              "lineEnd": 45
            },
            {
              "type": "function",
              "name": "asgName",
              "code": "  const asgName = event.detail?.AutoScalingGroupName;\n  if (allowedAsgNames.size > 0 && (!asgName || !allowedAsgNames.has(asgName))) {\n    return { ok: false, reason: 'asg-name-mismatch' };\n  }\n\n  if (parseBooleanEnv(process.env.STATUS_CHECKS_ONLY) && !isStatusChecksFailure(event.detail?.Cause)) {\n    return { ok: false, reason: 'status-checks-only' };\n  }\n\n  return { ok: true };\n};\n",
              "lineStart": 46,
              "lineEnd": 57
            },
            {
              "type": "function",
              "name": "handleAsgEvent",
              "code": "export const handleAsgEvent = async (terminal: Terminal, event: AutoScalingTerminationEvent) => {",
              "lineStart": 58,
              "lineEnd": 58
            },
            {
              "type": "function",
              "name": "check",
              "code": "const check = shouldProcessEvent(event);\nif (!check.ok) {\n  console.info(formatTime(Date.now()), 'ASGEventSkipped', check.reason, event['detail-type']);\n  return { notified: false, reason: check.reason };\n}\n",
              "lineStart": 59,
              "lineEnd": 64
            },
            {
              "type": "function",
              "name": "receiverId",
              "code": "const receiverId = process.env.FEISHU_RECEIVER_ID;\nif (!receiverId) {\n  return { notified: false, reason: 'feishu-receiver-missing' };\n}\n",
              "lineStart": 65,
              "lineEnd": 69
            },
            {
              "type": "function",
              "name": "card",
              "code": "const card = buildAsgTerminationCard(event);",
              "lineStart": 70,
              "lineEnd": 70
            },
            {
              "type": "function",
              "name": "payload",
              "code": "const payload = {\n  receive_id: receiverId,\n  receive_id_type: 'chat_id',\n  msg_type: 'interactive',\n  content: JSON.stringify(card),\n};\n",
              "lineStart": 71,
              "lineEnd": 77
            },
            {
              "type": "function",
              "name": "result",
              "code": "  const result = await terminal.client.requestForResponse<typeof payload, { message_id: string }>(\n    'Feishu/SendMessage',\n    payload,\n  );\n\n  if (result.code !== 0) {\n    throw new Error(`SendFeishuCardFailed: ${result.message}`);\n  }\n\n  return { notified: true };\n};",
              "lineStart": 78,
              "lineEnd": 89
            }
          ]
        },
        {
          "additions": 45,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/src/index.ts",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/src/index.ts b/apps/asg-eventbridge-notifier/src/index.ts\nnew file mode 100644\nindex 000000000..67ec7ca7d\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/src/index.ts\n@@ -0,0 +1,45 @@\n+import { Terminal } from '@yuants/protocol';\n+import type { AutoScalingTerminationEvent } from './handler';\n+import { handleAsgEvent } from './handler';\n+import { JSONSchema7 } from 'json-schema';\n+\n+const terminal = Terminal.fromNodeEnv();\n+\n+const schema: JSONSchema7 = {\n+  type: 'object',\n+  required: ['source', 'detail-type', 'detail'],\n+  properties: {\n+    source: { type: 'string', const: 'aws.autoscaling' },\n+    'detail-type': {\n+      type: 'string',\n+      enum: ['EC2 Instance Terminate Successful', 'EC2 Instance Terminate Unsuccessful'],\n+    },\n+    account: { type: 'string' },\n+    region: { type: 'string' },\n+    time: { type: 'string' },\n+    detail: {\n+      type: 'object',\n+      required: ['AutoScalingGroupName'],\n+      properties: {\n+        AutoScalingGroupName: { type: 'string' },\n+        EC2InstanceId: { type: 'string' },\n+        Cause: { type: 'string' },\n+        LifecycleHookName: { type: 'string' },\n+      },\n+    },\n+  },\n+};\n+\n+type AutoScalingEventResponse = {\n+  notified: boolean;\n+  reason?: string;\n+};\n+\n+terminal.server.provideService<AutoScalingTerminationEvent, AutoScalingEventResponse>(\n+  'AWS/AutoScalingEvent',\n+  schema,\n+  async (msg) => {\n+    const data = await handleAsgEvent(terminal, msg.req);\n+    return { res: { code: 0, message: 'OK', data } };\n+  },\n+);\n",
          "codeSnippets": [
            {
              "type": "function",
              "name": "terminal",
              "code": "const terminal = Terminal.fromNodeEnv();\n",
              "lineStart": 6,
              "lineEnd": 7
            },
            {
              "type": "function",
              "name": "schema",
              "code": "const schema: JSONSchema7 = {\n  type: 'object',\n  required: ['source', 'detail-type', 'detail'],\n  properties: {\n    source: { type: 'string', const: 'aws.autoscaling' },\n    'detail-type': {\n      type: 'string',\n      enum: ['EC2 Instance Terminate Successful', 'EC2 Instance Terminate Unsuccessful'],\n    },\n    account: { type: 'string' },\n    region: { type: 'string' },\n    time: { type: 'string' },\n    detail: {\n      type: 'object',\n      required: ['AutoScalingGroupName'],",
              "lineStart": 8,
              "lineEnd": 41
            },
            {
              "type": "function",
              "name": "data",
              "code": "    const data = await handleAsgEvent(terminal, msg.req);\n    return { res: { code: 0, message: 'OK', data } };\n  },\n);",
              "lineStart": 42,
              "lineEnd": 46
            }
          ]
        },
        {
          "additions": 8,
          "deletions": 0,
          "path": "apps/asg-eventbridge-notifier/tsconfig.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/apps/asg-eventbridge-notifier/tsconfig.json b/apps/asg-eventbridge-notifier/tsconfig.json\nnew file mode 100644\nindex 000000000..1fd2b07a2\n--- /dev/null\n+++ b/apps/asg-eventbridge-notifier/tsconfig.json\n@@ -0,0 +1,8 @@\n+{\n+  \"extends\": \"./node_modules/@rushstack/heft-node-rig/profiles/default/tsconfig-base.json\",\n+  \"compilerOptions\": {\n+    \"lib\": [\"ESNext\"],\n+    \"types\": [\"heft-jest\", \"node\"],\n+    \"skipLibCheck\": true\n+  }\n+}\n",
          "codeSnippets": []
        },
        {
          "additions": 10,
          "deletions": 0,
          "path": "common/changes/@yuants/app-asg-eventbridge-notifier/2026-01-14-14-50.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/common/changes/@yuants/app-asg-eventbridge-notifier/2026-01-14-14-50.json b/common/changes/@yuants/app-asg-eventbridge-notifier/2026-01-14-14-50.json\nnew file mode 100644\nindex 000000000..b21c7307d\n--- /dev/null\n+++ b/common/changes/@yuants/app-asg-eventbridge-notifier/2026-01-14-14-50.json\n@@ -0,0 +1,10 @@\n+{\n+  \"changes\": [\n+    {\n+      \"packageName\": \"@yuants/app-asg-eventbridge-notifier\",\n+      \"comment\": \"add new package\",\n+      \"type\": \"minor\"\n+    }\n+  ],\n+  \"packageName\": \"@yuants/app-asg-eventbridge-notifier\"\n+}\n\\ No newline at end of file\n",
          "codeSnippets": []
        },
        {
          "additions": 43,
          "deletions": 0,
          "path": "common/config/rush/pnpm-lock.yaml",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/common/config/rush/pnpm-lock.yaml b/common/config/rush/pnpm-lock.yaml\nindex 0c8cdf2d4..f305b547b 100644\n--- a/common/config/rush/pnpm-lock.yaml\n+++ b/common/config/rush/pnpm-lock.yaml\n@@ -253,0 +254,43 @@ importers:\n+  ../../apps/asg-eventbridge-notifier:\n+    dependencies:\n+      '@yuants/protocol':\n+        specifier: workspace:*\n+        version: link:../../libraries/protocol\n+      '@yuants/utils':\n+        specifier: workspace:*\n+        version: link:../../libraries/utils\n+    devDependencies:\n+      '@microsoft/api-extractor':\n+        specifier: ~7.55.2\n+        version: 7.55.2(@types/node@24.10.4)\n+      '@rushstack/heft':\n+        specifier: ~1.1.7\n+        version: 1.1.7(@types/node@24.10.4)\n+      '@rushstack/heft-jest-plugin':\n+        specifier: ~1.1.7\n+        version: 1.1.7(@rushstack/heft@1.1.7(@types/node@24.10.4))(@types/node@24.10.4)(jest-environment-node@29.7.0)(ts-node@10.9.2(@types/node@24.10.4)(typescript@5.9.3))\n+      '@rushstack/heft-node-rig':\n+        specifier: ~2.11.12\n+        version: 2.11.12(@rushstack/heft@1.1.7(@types/node@24.10.4))(@types/node@24.10.4)(jiti@2.6.1)(ts-node@10.9.2(@types/node@24.10.4)(typescript@5.9.3))\n+      '@types/heft-jest':\n+        specifier: 1.0.6\n+        version: 1.0.6\n+      '@types/json-schema':\n+        specifier: ~7.0.11\n+        version: 7.0.15\n+      '@types/node':\n+        specifier: '24'\n+        version: 24.10.4\n+      '@yuants/extension':\n+        specifier: workspace:*\n+        version: link:../../libraries/extension\n+      '@yuants/tool-kit':\n+        specifier: workspace:*\n+        version: link:../../tools/toolkit\n+      json-schema:\n+        specifier: ~0.4.0\n+        version: 0.4.0\n+      typescript:\n+        specifier: ~5.9.3\n+        version: 5.9.3\n+\n",
          "codeSnippets": []
        },
        {
          "additions": 5,
          "deletions": 0,
          "path": "rush.json",
          "changeType": "added",
          "patch": "commit 0098f6b84ab80aaefa53a97d418588c70759176a\nAuthor: Siyuan Wang <c.one@thrimbda.com>\nDate:   Wed Jan 14 22:53:05 2026 +0800\n\n    feat(app-asg-eventbridge-notifier): add new application for ASG termination event notifications (#2504)\n    \n    - Created the app-asg-eventbridge-notifier application to handle Auto Scaling termination events and send notifications to Feishu.\n    - Implemented event handling logic, including filtering based on ASG names and status checks.\n    - Developed message formatting for notifications, including details such as ASG name, instance ID, and termination cause.\n    - Added necessary configuration files for TypeScript, Jest, and API Extractor.\n    - Registered the new application in rush.json and updated pnpm-lock.yaml for dependency management.\n\ndiff --git a/rush.json b/rush.json\nindex 0c720c3b2..6cf1f6cbf 100644\n--- a/rush.json\n+++ b/rush.json\n@@ -554,0 +555,5 @@\n+    {\n+      \"packageName\": \"@yuants/app-asg-eventbridge-notifier\",\n+      \"projectFolder\": \"apps/asg-eventbridge-notifier\",\n+      \"shouldPublish\": true\n+    },\n",
          "codeSnippets": []
        }
      ]
    }
  ],
  "analysis": {
    "domains": [
      {
        "name": "APIè¯·æ±‚ä¼˜åŒ–ä¸é™é€Ÿ",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "å®‰å…¨ä¸é‰´æƒ",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "è®¢å•ä¸äº¤æ˜“",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "è´¦æˆ·ç®¡ç†",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "å¸‚åœºæ•°æ®",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "æ¥å£é‡æ„",
        "commits": [
          "83608ad3a",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          ".legion/config.json"
        ]
      },
      {
        "name": "é…ç½®ä¸ç¯å¢ƒ",
        "commits": [
          "83608ad3a",
          "1fa5442e1",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          "apps/node-unit/CHANGELOG.json"
        ]
      },
      {
        "name": "æ–‡æ¡£",
        "commits": [
          "83608ad3a",
          "1fa5442e1",
          "0098f6b84"
        ],
        "files": [
          ".legion/tasks/hyperliquid-api-tokenbucket/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/context.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/plan.md",
          ".legion/tasks/node-unit-deployment-grafana-dashboard/tasks.md",
          "apps/node-unit/dashboard-node-unit-deployment.json",
          "apps/vendor-hyperliquid/SESSION_NOTES.md",
          "apps/vendor-hyperliquid/src/api/client.ts",
          "common/changes/@yuants/node-unit/2026-01-14-09-03.json",
          "common/changes/@yuants/vendor-hyperliquid/2026-01-14-09-03.json",
          "apps/node-unit/CHANGELOG.json"
        ]
      }
    ],
    "riskIndicators": [
      {
        "type": "no_tests",
        "severity": "medium",
        "details": "åŒ…å«åŠŸèƒ½æˆ–ä¿®å¤æäº¤ä½†æœªè§æµ‹è¯•æ–‡ä»¶æ›´æ–°",
        "commits": []
      },
      {
        "type": "api_change",
        "severity": "high",
        "details": "1 ä¸ªæäº¤ä¿®æ”¹äº†APIæˆ–æ¥å£å®šä¹‰",
        "commits": [
          "83608ad3a"
        ]
      }
    ]
  },
  "metadata": {
    "tool": "git-changes-reporter",
    "version": "3.0.0",
    "repository": "/home/runner/work/Yuan/Yuan"
  }
}