# 数据采集

对于相对静态的数据，我们可以通过数据提供商的 API 获取数据，并存储到数据库中。

对于有时间序列属性的数据，我们需要定期从数据提供商处抓取数据，并存储到数据库中。

## 核心组件

### [@yuants/data-series](./packages/@yuants-data-series.md)

这是一个通用的时间序列数据模型。它定义了时间序列数据的基本属性和方法。数据服务提供商可以使用它来创建自己的时间序列数据模型，并快速完成数据采集任务。

### [@yuants/series-collector](apps/series-collector)

这是一个通用的时间序列数据收集器，它可以使用 CronJob 定期任务，从不同的数据提供商处抓取数据，并存储到数据库中。您只需要在数据库 `series_collecting_task` 表中添加一条记录，收集器就会定期抓取数据并存储到数据库中。

## 数据采集流程

1. **任务配置**: 在 `series_collecting_task` 表中配置采集任务
2. **定时触发**: 收集器根据 CronJob 配置定期执行
3. **数据获取**: 从数据提供商 API 获取数据
4. **数据存储**: 将获取的数据存储到数据库中
5. **状态监控**: 监控采集任务的执行状态

## 时序数据约束

我们定义了时序序列应当满足的约束，确保数据的完整性和一致性：

- 时间戳的唯一性
- 数据点的连续性
- 数据质量的保证
- 采集频率的可配置性

## 使用方式

1. **配置采集任务**: 在数据库中创建采集任务记录
2. **启动收集器**: 部署并运行系列收集器服务
3. **监控数据质量**: 通过监控系统检查数据采集状态
4. **数据验证**: 定期验证采集数据的完整性和准确性

## 优势特点

- **自动化**: 自动执行数据采集任务
- **可扩展**: 支持多种数据提供商
- **可靠**: 具备错误处理和重试机制
- **高效**: 优化数据存储和查询性能

<p align="right">(<a href="../../README.md">返回 README</a>) | <a href="architecture-overview.md">架构概述</a></p>
